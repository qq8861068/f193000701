window.__require=function t(e,o,i){function n(a,s){if(!o[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return n(e[a][1][t]||t)},u,u.exports,t,e,o,i)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<i.length;a++)n(i[a]);return n}({AlertModel:[function(t,e,o){"use strict";cc._RF.push(e,"9264bZluL5P0YjlJmHuTbP7","AlertModel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.AlertParams=void 0;var a=t("./PopupModel");o.AlertParams=function(t,e,o,i){void 0===e&&(e=!0),this.content="",this.showCancel=!0,this.success=null,this.fail=null,this.content=t,this.showCancel=e,this.success=o,this.fail=i};var s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui_label=null,e.ui_btn_Cancel=null,e.ui_btnConfirm_center=null,e.ui_btnConfirm=null,e.m_alertParams=null,e.m_isDisabled=!1,e}return n(e,t),e.prototype.onOpen=function(t){this.m_alertParams=t,this.openAni(),this.m_isDisabled=!1,this.ui_btn_Cancel.active=this.m_alertParams.showCancel,this.ui_btnConfirm.active=this.m_alertParams.showCancel,this.ui_btnConfirm_center.active=!this.m_alertParams.showCancel,this.ui_label.string=this.m_alertParams.content},e.prototype.onConfirm=function(){this.m_isDisabled||(this.m_isDisabled=!0,this.m_alertParams.success&&this.m_alertParams.success.run(),this.closeAni())},e.prototype.onCancel=function(){this.m_isDisabled||(this.m_isDisabled=!0,this.m_alertParams.fail&&this.m_alertParams.fail.run(),this.closeAni())},e.prototype.onClose=function(){this.m_alertParams=null},r([l({type:cc.Label,tooltip:"\u5185\u5bb9"})],e.prototype,"ui_label",void 0),r([l({type:cc.Node,tooltip:"\u53d6\u6d88\u6309\u94ae"})],e.prototype,"ui_btn_Cancel",void 0),r([l({type:cc.Node,tooltip:"\u786e\u5b9a\u6309\u94ae-\u4e2d\u5fc3"})],e.prototype,"ui_btnConfirm_center",void 0),r([l({type:cc.Node,tooltip:"\u786e\u5b9a\u6309\u94ae"})],e.prototype,"ui_btnConfirm",void 0),r([c],e)}(a.default);o.default=u,cc._RF.pop()},{"./PopupModel":"PopupModel"}],AnimationExtend:[function(t,e,o){"use strict";cc._RF.push(e,"e81e9HCy+BB97ZnOLYMw5K/","AnimationExtend");var i,n,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.AniParam=o.ANIMATION_TYPE=void 0,function(t){t[t.SPRITE_FRAMES_CLIP=0]="SPRITE_FRAMES_CLIP",t[t.SKELETON=1]="SKELETON"}(n=o.ANIMATION_TYPE||(o.ANIMATION_TYPE={})),o.AniParam=function(t,e,o,i,n,r){this.loadCompleteHandler=null,this.timeScale=1,this.premultipliedAlpha=!1,this.defaultSkin="default",this.dstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA,this.sample=30,this.isLoadDir=!1,this.sizeMode=cc.Sprite.SizeMode.RAW,this.trim=!1,this.aniType=t,this.url=e,this.bundleName=o,this.aniName=i,this.loadCompleteHandler=n,r&&this.sample};var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skComp=null,e.playCompleteHandler=null,e.isResLoaded=!1,e.aniParam=null,e}return r(e,t),e.prototype.init=function(t){switch(this.aniParam=t,this.addAnimationComp(),this.aniParam.aniType){case n.SKELETON:this.loadSekeleton();break;case n.SPRITE_FRAMES_CLIP:this.loadSpriteFrames()}},e.prototype.play=function(t,e,o){if(void 0===e&&(e=!0),this.playCompleteHandler=o,this.aniName=t,this.loop=e,this.isReadyPlay=!0,this.isResLoaded)switch(this.aniParam.aniType){case n.SPRITE_FRAMES_CLIP:this.playSpriteFramesClip();break;case n.SKELETON:this.playSkeleton()}},e.prototype.stop=function(){switch(this.aniParam.aniType){case n.SPRITE_FRAMES_CLIP:this.aniComp.stop();break;case n.SKELETON:this.skComp.paused=!0}},e.prototype.playSkeleton=function(){var t=this;this.skComp.setAnimation(0,this.aniName,this.loop),this.skComp.setCompleteListener(function(){t.playCompleteHandler&&(t.playCompleteHandler.run(),t.playCompleteHandler=null)})},e.prototype.loadSekeleton=function(){var t=this,e=this;cc.assetManager.getBundle(this.aniParam.bundleName).load(e.aniParam.url,sp.SkeletonData,function(o,i){o?console.error(o.message||o):(e.isResLoaded=!0,e.skComp.skeletonData=i,e.skComp.timeScale=e.aniParam.timeScale,e.skComp.setSkin(t.aniParam.defaultSkin),t.aniParam.loadCompleteHandler&&t.aniParam.loadCompleteHandler.run(),e.isReadyPlay&&e.playSkeleton())})},e.prototype.addAnimationComp=function(){switch(this.aniParam.aniType){case n.SKELETON:this.node.getComponent(cc.Sprite)&&this.node.removeComponent(cc.Sprite),this.skComp=this.node.addComponent(sp.Skeleton),this.skComp.premultipliedAlpha=this.aniParam.premultipliedAlpha,this.skComp.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.SHARED_CACHE);break;case n.SPRITE_FRAMES_CLIP:this.node.getComponent(sp.Skeleton)&&this.node.removeComponent(sp.Skeleton),this.node.getComponent(cc.Sprite)||this.node.addComponent(cc.Sprite),this.aniComp=this.node.getComponent(cc.Animation)||this.node.addComponent(cc.Animation),this.node.getComponent(cc.Sprite).sizeMode=this.aniParam.sizeMode,this.node.getComponent(cc.Sprite).trim=this.aniParam.trim,this.node.getComponent(cc.Sprite).dstBlendFactor=this.aniParam.dstBlendFactor}},e.prototype.addAnimation=function(t){t.sort(function(t,e){return t.name.localeCompare(e.name,"zh-CN",{numeric:!1})});var e=cc.AnimationClip.createWithSpriteFrames(t,this.aniParam.sample);e.name=this.aniParam.aniName,e.speed=this.aniParam.timeScale,this.aniComp.addClip(e),e.wrapMode=cc.WrapMode.Loop,this.aniParam.loadCompleteHandler&&this.aniParam.loadCompleteHandler.run()},e.prototype.loadSpriteFrames=function(){var t=this;if(this.aniParam.isLoadDir)cc.assetManager.getBundle(this.aniParam.bundleName).loadDir(t.aniParam.url,cc.SpriteFrame,function(e,o){e?console.error(e.message||e):(t.isResLoaded=!0,t.addAnimation(o),t.isReadyPlay&&t.playSpriteFramesClip())});else if("string"==typeof this.aniParam.url)cc.assetManager.getBundle(this.aniParam.bundleName).load(t.aniParam.url,cc.SpriteAtlas,function(e,o){if(e)console.error(e.message||e);else{t.isResLoaded=!0;var i=o.getSpriteFrames();t.addAnimation(i),t.isReadyPlay&&t.playSpriteFramesClip()}});else for(var e=0,o=cc.assetManager.getBundle(this.aniParam.bundleName),i=[],n=0;n<t.aniParam.url.length;n++)(function(n){o.load(t.aniParam.url[n],cc.SpriteAtlas,function(o,n){o?console.error(o.message||o):(e++,i=i.concat(n.getSpriteFrames()),e==t.aniParam.url.length&&(t.isResLoaded=!0,t.addAnimation(i),t.isReadyPlay&&t.playSpriteFramesClip()))})})(n)},e.prototype.playSpriteFramesClip=function(){this.aniComp.on("finished",this.spFrameClipFinish,this),this.aniComp.play(this.aniName).wrapMode=this.loop?cc.WrapMode.Loop:cc.WrapMode.Normal},e.prototype.spFrameClipFinish=function(){this.playCompleteHandler&&(this.playCompleteHandler.run(),this.playCompleteHandler=null)},e}(cc.Component);o.default=a,cc._RF.pop()},{}],ArrayUtil:[function(t,e,o){"use strict";cc._RF.push(e,"6bc85b2nf5J26nsiEg8S1Wf","ArrayUtil");var i=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<o;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,n++)i[n]=r[a];return i};Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.copy2DArray=function(t){for(var e=[],o=0;o<t.length;o++)e.push(t[o].concat());return e},t.fisherYatesShuffle=function(t){for(var e=t.length;e;){var o=Math.floor(Math.random()*e--),i=t[e];t[e]=t[o],t[o]=i}return t},t.confound=function(t){return t.slice().sort(function(){return Math.random()-.5})},t.flattening=function(t){for(;t.some(function(t){return Array.isArray(t)});)t=[].concat.apply([],t);return t},t.combineArrays=function(t,e){return i(t,e)},t.getRandomValueInArray=function(t){return t[Math.floor(Math.random()*t.length)]},t}();o.default=n,cc._RF.pop()},{}],BTreeNode:[function(t,e,o){"use strict";cc._RF.push(e,"d1f25z5LEFASqS+yw224N2r","BTreeNode"),Object.defineProperty(o,"__esModule",{value:!0}),o.BTreeNode=void 0;var i=function(){function t(){this.title=this.constructor.name}return t.prototype.start=function(){},t.prototype.end=function(){},t.prototype.setControl=function(t){this._control=t},t.prototype.running=function(){this._control.running(this)},t.prototype.success=function(){this._control.success()},t.prototype.fail=function(){this._control.fail()},t}();o.BTreeNode=i,cc._RF.pop()},{}],Base64Util:[function(t,e,o){"use strict";cc._RF.push(e,"f3aa7NyYcpLA62op7ovpWsO","Base64Util"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.encodeString=function(e){var o,i,n,r,a,s,c,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",p=0;for(e=t.encodeUtf8(e);p<e.length;)r=(o=e.charCodeAt(p++))>>2,a=(3&o)<<4|(i=e.charCodeAt(p++))>>4,s=(15&i)<<2|(n=e.charCodeAt(p++))>>6,c=63&n,isNaN(i)?s=c=64:isNaN(n)&&(c=64),u=u+l.charAt(r)+l.charAt(a)+l.charAt(s)+l.charAt(c);return u},t.decodeString=function(e){var o,i,n,r,a,s,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)o=c.indexOf(e.charAt(u++))<<2|(r=c.indexOf(e.charAt(u++)))>>4,i=(15&r)<<4|(a=c.indexOf(e.charAt(u++)))>>2,n=(3&a)<<6|(s=c.indexOf(e.charAt(u++))),l+=String.fromCharCode(o),64!=a&&(l+=String.fromCharCode(i)),64!=s&&(l+=String.fromCharCode(n));return t.decodeUtf8(l)},t.encodeUtf8=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",o=0;o<t.length;o++){var i=t.charCodeAt(o);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},t.decodeUtf8=function(t){for(var e="",o=0,i=0,n=0,r=0;o<t.length;)(i=t.charCodeAt(o))<128?(e+=String.fromCharCode(i),o++):i>191&&i<224?(n=t.charCodeAt(o+1),e+=String.fromCharCode((31&i)<<6|63&n),o+=2):(n=t.charCodeAt(o+1),r=t.charCodeAt(o+2),e+=String.fromCharCode((15&i)<<12|(63&n)<<6|63&r),o+=3);return e},t.base64ToBlob=function(t){if(!window||!window.atob)return null;for(var e=t.split(","),o=/image\/\w+|;/.exec(e[0])[0],i=window.atob(e[1]),n=new ArrayBuffer(i.length),r=new Uint8Array(n),a=0;a<i.length;a++)r[a]=255&i.charCodeAt(a);return new Blob([r],{type:o})},t}();o.default=i,cc._RF.pop()},{}],BaseView:[function(t,e,o){"use strict";cc._RF.push(e,"11dc8ZO+JlB+KDdRagFvWsy","BaseView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../core/event/EventMessage"),s=t("../../core/event/MessageManager"),c=t("../../core/utils/ComUtils"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLandscape=!1,e}return n(e,t),e.prototype.onLoad=function(){this.addEventListener()},e.prototype.onDestroy=function(){this.removeEventListener()},e.prototype.addEventListener=function(){},e.prototype.removeEventListener=function(){s.default.getInstance().removeEventListener(a.EventMessage.GAME_RESIZE,this.onResize,this)},e.prototype.resize=function(){this.isLandscape=c.default.checkHorOrVec(),this.setLayout(),this.layout(),this.node.getComponent(cc.Layout)&&this.node.getComponent(cc.Layout).updateLayout(),this.node.getComponent(cc.Widget)&&this.node.getComponent(cc.Widget).updateAlignment(),s.default.getInstance().addEventListener(a.EventMessage.GAME_RESIZE,this.onResize,this)},e.prototype.onResize=function(){this.isLandscape!=c.default.checkHorOrVec()&&(this.isLandscape=c.default.checkHorOrVec(),this.setLayout()),this.layout()},e.prototype.setLayout=function(){this.isLandscape?this.layoutLandscape():this.layoutPortrait()},e.prototype.layout=function(){},e.prototype.layoutLandscape=function(){},e.prototype.layoutPortrait=function(){},r([u],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../core/event/EventMessage":"EventMessage","../../core/event/MessageManager":"MessageManager","../../core/utils/ComUtils":"ComUtils"}],BehaviorTree:[function(t,e,o){"use strict";cc._RF.push(e,"c45dds6yHpLi6vnZniQeiXl","BehaviorTree"),Object.defineProperty(o,"__esModule",{value:!0}),o.BehaviorTree=void 0;var i=t("./BTreeNode"),n=0,r=function(){function t(t,e){this._started=!1,n+=1,this.title=t.constructor.name+"(btree_"+n+")",this._root=t,this._blackboard=e}return Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!1,configurable:!0}),t.prototype.setObject=function(t){this._blackboard=t},t.prototype.run=function(){this._started&&console.error("\u884c\u4e3a\u6811\u3010"+this.title+"\u3011\u672a\u8c03\u7528\u6b65\u9aa4\uff0c\u5728\u6700\u540e\u4e00\u6b21\u8c03\u7528\u6b65\u9aa4\u65f6\u6709\u4e00\u4e2a\u4efb\u52a1\u672a\u5b8c\u6210"),this._started=!0;var e=t.getNode(this._root);this._current=e,e.setControl(this),e.start(this._blackboard),e.run(this._blackboard)},t.prototype.running=function(){this._started=!1},t.prototype.success=function(){this._current.end(this._blackboard),this._started=!1},t.prototype.fail=function(){this._current.end(this._blackboard),this._started=!1},t.register=function(t,e){this._registeredNodes.set(t,e)},t.getNode=function(t){var e=t instanceof i.BTreeNode?t:this._registeredNodes.get(t);if(!e)throw new Error("\u65e0\u6cd5\u627e\u5230\u8282\u70b9\u3010"+t+"\u3011\uff0c\u53ef\u80fd\u5b83\u6ca1\u6709\u6ce8\u518c\u8fc7");return e},t._registeredNodes=new Map,t}();o.BehaviorTree=r,cc._RF.pop()},{"./BTreeNode":"BTreeNode"}],BranchNode:[function(t,e,o){"use strict";cc._RF.push(e,"d40c80FlodOlIOIsLxUyonh","BranchNode");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.BranchNode=void 0;var r=t("./BehaviorTree"),a=function(t){function e(e){var o=t.call(this)||this;return o.children=e||[],o}return n(e,t),e.prototype.start=function(){this._actualTask=0,t.prototype.start.call(this)},e.prototype.run=function(t){0==this.children.length?this._control.fail():(this._blackboard=t,this.start(),this._actualTask<this.children.length&&this._run()),this.end()},e.prototype._run=function(){var t=r.BehaviorTree.getNode(this.children[this._actualTask]);this._runningNode=t,t.setControl(this),t.start(this._blackboard),t.run(this._blackboard)},e.prototype.running=function(t){this._nodeRunning=t,this._control.running(t)},e.prototype.success=function(){this._nodeRunning=null,this._runningNode.end(this._blackboard)},e.prototype.fail=function(){this._nodeRunning=null,this._runningNode.end(this._blackboard)},e}(t("./BTreeNode").BTreeNode);o.BranchNode=a,cc._RF.pop()},{"./BTreeNode":"BTreeNode","./BehaviorTree":"BehaviorTree"}],BrowserUtil:[function(t,e,o){"use strict";cc._RF.push(e,"1dfacfiUw5PprdiylZkxuM+","BrowserUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.clearUrlParam=function(){window&&window.history&&window.history.replaceState({},null,".")},t.setUrlParam=function(t){window&&window.history&&(Array.isArray(t)&&(t=t.map(function(t){return t.key+"="+t.value}).join("&")),window.history.replaceState({},null,"?"+t))},t.getUrlParam=function(t){if(!window||!window.location)return null;var e=window.location.search.replace("?","");if(""===e)return null;for(var o=e.split("&"),i=0;i<o.length;i++){var n=o[i].split("=");if(decodeURIComponent(n[0])===t)return decodeURIComponent(n[1])}return null},t.getUrlParams=function(){if(!window||!window.location)return[];var t=window.location.search.replace("?","");if(""===t)return[];for(var e=t.split("&"),o=[],i=0;i<e.length;i++){var n=e[i].split("=");o.push({key:n[0],value:n[1]})}return o},t.copy=function(t){if(!document)return!1;var e=document.createElement("textarea");e.readOnly=!0,e.style.opacity="0",e.value=t,document.body.appendChild(e),e.select();var o=document.createRange();o.selectNodeContents(e);var i=getSelection();i.removeAllRanges(),i.addRange(o);var n=document.execCommand("copy");return e.remove(),n},t}();o.default=i,cc._RF.pop()},{}],ClockTimer:[function(t,e,o){"use strict";cc._RF.push(e,"4a762dJM2xC7JWsyu3t2fL5","ClockTimer");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClockParamType=void 0;var a=t("../event/EventMessage"),s=t("../event/MessageManager"),c=cc._decorator,l=c.ccclass,u=c.property;o.ClockParamType=function(){this.completeFunction=null,this.secondFunction=null,this.enterCrucialCall=null,this.countDown=10,this.crucialSecond=3,this.isAutoHide=!1};var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeLabel=null,e.isShake=!0,e.clockParam=null,e.preTween=null,e}return n(e,t),e.prototype.onLoad=function(){s.default.getInstance().addEventListener(a.EventMessage.GAME_mess_clockStart,this.clockStart,this),s.default.getInstance().addEventListener(a.EventMessage.GAME_mess_clockHide,this.clockHide,this)},e.prototype.onDestroy=function(){s.default.getInstance().addEventListener(a.EventMessage.GAME_mess_clockStart,this.clockStart,this),s.default.getInstance().addEventListener(a.EventMessage.GAME_mess_clockHide,this.clockHide,this)},e.prototype.clockStart=function(t,e){this.node.active=!0,this.resetData(e),this.timing_start()},e.prototype.resetData=function(t){t&&(t.completeFunction&&(this.clockParam.completeFunction=t.completeFunction),t.secondFunction&&(this.clockParam.secondFunction=t.secondFunction),t.enterCrucialCall&&(this.clockParam.enterCrucialCall=t.enterCrucialCall),t.isAutoHide&&(this.clockParam.isAutoHide=t.isAutoHide),this.clockParam.countDown=t.countDown)},e.prototype.initData=function(t){this.clockParam=t},e.prototype.tick=function(){this.timeLabel.string=this.clockParam.countDown+"",this.clockParam.crucialSecond==this.clockParam.countDown&&(this.timerCrucial(),this.clockParam.enterCrucialCall&&this.clockParam.enterCrucialCall(),this.isShake&&this.shakeAni())},e.prototype.onScheduleSecond=function(){this.clockParam.countDown--,this.tick(),this.clockParam.secondFunction&&this.clockParam.secondFunction(this.clockParam.countDown),0==this.clockParam.countDown&&this.onScheduleComplete()},e.prototype.onScheduleComplete=function(){this.clockParam.completeFunction&&this.clockParam.completeFunction(),this.timing_end()},e.prototype.timing_start=function(){this.unschedule(this.onScheduleSecond),this.preTween&&this.preTween.stop(),this.schedule(this.onScheduleSecond,1),this.tick()},e.prototype.timing_end=function(){this.unschedule(this.onScheduleSecond),this.preTween&&this.preTween.stop(),this.tick(),this.node.angle=0,this.clockParam.isAutoHide&&(this.node.active=!1)},e.prototype.shakeAni=function(){var t=this.shakeTween();this.preTween=cc.tween(this.node).repeatForever(t).start()},e.prototype.shakeTween=function(){return cc.tween().to(.1,{angle:20}).to(.2,{angle:-20}).to(.1,{angle:0})},e.prototype.timerStart=function(){},e.prototype.timerEnd=function(){},e.prototype.timerCrucial=function(){},e.prototype.clockHide=function(){this.unschedule(this.onScheduleSecond),this.preTween&&this.preTween.stop(),this.node.active=!1},r([u({type:cc.Label,tooltip:"\u5012\u8ba1\u65f6\u6587\u672c"})],e.prototype,"timeLabel",void 0),r([u({tooltip:"\u5173\u952e\u65f6\u523b\u662f\u5426\u9707\u52a8"})],e.prototype,"isShake",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../event/EventMessage":"EventMessage","../event/MessageManager":"MessageManager"}],Collection:[function(t,e,o){"use strict";cc._RF.push(e,"9f639vcIFNP+rQBCsAwa+j0","Collection");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Collection=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._array=[],e}return n(e,t),Object.defineProperty(e.prototype,"array",{get:function(){return this._array},enumerable:!1,configurable:!0}),e.prototype.set=function(e,o){return this.has(e)||this._array.push(o),t.prototype.set.call(this,e,o)},e.prototype.delete=function(e){var o=this.get(e);if(o){var i=this._array.indexOf(o);return i>-1&&this._array.splice(i,1),t.prototype.delete.call(this,e)}return!1},e.prototype.clear=function(){this._array.splice(0,this._array.length),t.prototype.clear.call(this)},e}(Map);o.Collection=r,cc._RF.pop()},{}],ColorUtil:[function(t,e,o){"use strict";cc._RF.push(e,"d02525jzfZFBIrZzQcujKVf","ColorUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.hexToRgba=function(e){return t.isHex(e)?{r:parseInt(e.substr(1,2),16)||0,g:parseInt(e.substr(3,2),16)||0,b:parseInt(e.substr(5,2),16)||0,a:parseInt(e.substr(7,2),16)||255}:null},t.rgbaToHex=function(t){var e=(256|t.r).toString(16).slice(1),o=(256|t.g).toString(16).slice(1),i=(256|t.b).toString(16).slice(1);return null==t.a?("#"+e+o+i).toUpperCase():("#"+e+o+i+(256|t.a).toString(16).slice(1)).toUpperCase()},t.isHex=function(t){return/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t)},t}();o.default=i,cc._RF.pop()},{}],ComUtils:[function(require,module,exports){"use strict";cc._RF.push(module,"73ba8nNAW9Jg5JKfEgrkF+o","ComUtils"),Object.defineProperty(exports,"__esModule",{value:!0});var ComUtils=function(){function ComUtils(){}return ComUtils.checkHorOrVec=function(){var t=cc.view.getViewportRect();return t.width>=t.height},ComUtils.clone=function(t){if(null===t||"object"!=typeof t)return t;var e={};for(var o in t.constructor===Array&&(e=[]),t)t.hasOwnProperty(o)&&(e[o]=this.clone(t[o]));return e},ComUtils.playSpineAnimation=function(t,e,o,i){t.setAnimation(0,e,o)&&!o&&t.setCompleteListener(function(){t.setCompleteListener(null),i&&i.run()})},ComUtils.playArmatureDisplay=function(t,e,o,i,n){void 0===e&&(e=""),void 0===o&&(o=0),n&&(t.armatureName=n),t.playAnimation(e,0==o?0:o),o>0&&t.once(dragonBones.EventObject.COMPLETE,function(){i&&i.run()},this)},ComUtils.getLaunchOptionsSync=function(){var t={};return cc.sys.platform==cc.sys.WECHAT_GAME?t=window.wx.getLaunchOptionsSync().query:(cc.sys.isBrowser&&(t=this.urlParse()),t)},ComUtils.urlParse=function(){var t,e,o={};if(null==window.location)return o;for(var i=window.location.href,n=i.indexOf("?"),r=(i=i.substr(n+1)).split("&"),a=0;a<r.length;a++)(n=r[a].indexOf("="))>0&&(t=r[a].substring(0,n),e=r[a].substr(n+1),o[t]=e);return o},ComUtils.changeURLArg=function(key,value,isJump){var url=window.location.href,pattern=key+"=([^&]*)",replaceText=key+"="+value;if(url.match(pattern)){var tmp="/("+key+"=)([^&]*)/gi";return tmp=url.replace(eval(tmp),replaceText),isJump&&(window.location.href=tmp),tmp}if(url.match("[?]")){var tmp=url+"&"+replaceText;return isJump&&(window.location.href=tmp),tmp}var tmp=url+"?"+replaceText;return isJump&&(window.location.href=tmp),tmp},ComUtils}();exports.default=ComUtils,cc._RF.pop()},{}],CommonAdapt:[function(t,e,o){"use strict";cc._RF.push(e,"87039p3QLZEVZlFTQ1hMuAD","CommonAdapt"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/event/EventMessage"),n=t("../../core/event/MessageManager"),r=t("../../global/Global"),a=cc.size(1920,1080),s=function(){function t(){this.isHor=null,this.designSize=a,this.resoultPolicy=cc.ResolutionPolicy.SHOW_ALL,this.sceneBg=null}return t.getInstance=function(){return this._instance?this._instance:(this._instance=new t,this._instance)},t.prototype.init=function(){this.createBg(),this.resizeHandle(),n.default.getInstance().addEventListener(i.EventMessage.GAME_RESIZE,this.resizeHandle,this)},t.prototype.destory=function(){this.sceneBg&&this.sceneBg.destroy(),n.default.getInstance().removeEventListener(i.EventMessage.GAME_RESIZE,this.resizeHandle,this)},t.prototype.setDesignSzie=function(t,e,o){void 0===o&&(o=cc.ResolutionPolicy.SHOW_ALL),this.designSize.width=t,this.designSize.height=e,this.resoultPolicy=o,this.resizeHandle()},t.prototype.setSceneCamera=function(t){this.sceneGroup=t,this.sceneBg&&(this.sceneBg.groupIndex=t)},t.prototype.createBg=function(){this.sceneBg||(this.sceneBg=new cc.Node("gameBg"),this.sceneBg.addComponent(cc.Sprite),this.sceneBg.getComponent(cc.Sprite).sizeMode=cc.Sprite.SizeMode.CUSTOM,this.sceneBg.getComponent(cc.Sprite).type=cc.Sprite.Type.SLICED,this.sceneBg.zIndex=-1,cc.director.getScene().addChild(this.sceneBg),this.sceneGroup&&this.setSceneCamera(this.sceneGroup))},t.prototype.setBgFrameColor=function(t){this.sceneBg&&(this.sceneBg.color=t)},t.prototype.setBgFrame=function(t){if((!cc.sys.isMobile||r.default.getInstance().getGameConfig().isMobileBlurry)&&this.sceneBg){if(this.sceneBg.getComponent(cc.Sprite).spriteFrame=t,this.resizeHandle(),!t)return void n.default.getInstance().dispatchEvent("removeStartLoading");var e=t._uuid;e&&cc.assetManager.loadAny({uuid:e},function(t,e){t||(e.addRef(),e.decRef(),n.default.getInstance().dispatchEvent("removeStartLoading"))})}},t.prototype.refreshBgSize=function(){var t=cc.view.getCanvasSize(),e=this.sceneBg.getComponent(cc.Sprite);if(this.sceneBg&&e){if(e.spriteFrame){var o=e.spriteFrame.getOriginalSize();this.sceneBg.width=o.width,this.sceneBg.height=o.height}this.sceneBg.setPosition(cc.Canvas.instance.node.x,cc.Canvas.instance.node.y);var i=cc.view.getDesignResolutionSize(),n=Math.min(t.width/i.width,t.height/i.height),r=this.sceneBg.width*n,a=this.sceneBg.height*n;this.sceneBg.scale=Math.max(t.width/r,t.height/a)}},t.prototype.resizeHandle=function(){var t=this;setTimeout(function(){t.refreshBgSize()},1)},t.bgAdapt=function(t){if(t){var e=cc.view.getFrameSize();if(cc.winSize.width>=cc.winSize.height)if(e.width/e.height>=cc.winSize.width/cc.winSize.height)t.height=cc.winSize.height,t.width=Math.max(e.height/cc.winSize.height,cc.winSize.height/e.height)*e.width;else{var o=e.height/e.width/(cc.winSize.height/cc.winSize.width);t.height=o*cc.winSize.height,t.width=Math.max(e.height/cc.winSize.height,cc.winSize.height/e.height)*o*e.width}else e.width/e.height<=cc.winSize.width/cc.winSize.height?(t.width=cc.winSize.width,t.height=Math.max(e.width/cc.winSize.width,cc.winSize.width/e.width)*e.height):(o=e.width/e.height/(cc.winSize.width/cc.winSize.height),t.width=o*cc.winSize.width,t.height=Math.max(e.width/cc.winSize.width,cc.winSize.width/e.width)*o*e.height)}},t._instance=null,t}();o.default=s,cc._RF.pop()},{"../../core/event/EventMessage":"EventMessage","../../core/event/MessageManager":"MessageManager","../../global/Global":"Global"}],Constant:[function(t,e,o){"use strict";cc._RF.push(e,"57cdaJU8VpKxr5mqXErr9Xe","Constant"),Object.defineProperty(o,"__esModule",{value:!0}),o.UIID=o.Orientation=void 0,function(t){t[t.Auto=1]="Auto",t[t.Portrait=2]="Portrait",t[t.Landscape=3]="Landscape"}(o.Orientation||(o.Orientation={})),function(t){t[t.Loading=1]="Loading"}(o.UIID||(o.UIID={})),cc._RF.pop()},{}],CustomButton:[function(t,e,o){"use strict";cc._RF.push(e,"e4c022jIK9E1apA8lJquElp","CustomButton");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.StateColor=o.StateSprite=o.CustomBtnLongTouchType=o.CustomBtnState=o.CustomBtnTransition=void 0;var a,s,c,l=cc._decorator,u=l.ccclass,p=l.property;(function(t){t[t.NONE=0]="NONE",t[t.COLOR=1]="COLOR",t[t.SPRITE=2]="SPRITE",t[t.SCALE=3]="SCALE",t[t.COLOR_SCALE=4]="COLOR_SCALE",t[t.SPRITE_SCALE=5]="SPRITE_SCALE"})(a=o.CustomBtnTransition||(o.CustomBtnTransition={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.HOVER=1]="HOVER",t[t.PRESSED=2]="PRESSED",t[t.DISABLED=3]="DISABLED"}(s=o.CustomBtnState||(o.CustomBtnState={})),function(t){t[t.NONE=0]="NONE",t[t.ONCE=1]="ONCE",t[t.MULTIPLE=2]="MULTIPLE"}(c=o.CustomBtnLongTouchType||(o.CustomBtnLongTouchType={}));var h=function(){function t(){this.normalSprite=null,this.pressedSprite=null,this.hoverSprite=null,this.disabledSprite=null}return r([p({type:cc.SpriteFrame,displayName:"Normal",tooltip:"i18n:COMPONENT.button.normal_sprite"})],t.prototype,"normalSprite",void 0),r([p({type:cc.SpriteFrame,displayName:"Pressed",tooltip:"i18n:COMPONENT.button.pressed_sprite"})],t.prototype,"pressedSprite",void 0),r([p({type:cc.SpriteFrame,displayName:"Hover",tooltip:"i18n:COMPONENT.button.hover_sprite"})],t.prototype,"hoverSprite",void 0),r([p({type:cc.SpriteFrame,displayName:"Disabled",tooltip:"i18n:COMPONENT.button.disabled_sprite"})],t.prototype,"disabledSprite",void 0),r([u("StateSprite")],t)}();o.StateSprite=h;var d=function(){function t(){this.normalColor=cc.Color.WHITE,this.pressedColor=cc.color(211,211,211),this.hoverColor=cc.Color.WHITE,this.disabledColor=cc.color(124,124,124)}return r([p({displayName:"Normal",tooltip:"i18n:COMPONENT.button.normal_color"})],t.prototype,"normalColor",void 0),r([p({displayName:"Pressed",tooltip:"i18n:COMPONENT.button.pressed_color"})],t.prototype,"pressedColor",void 0),r([p({displayName:"Hover",tooltip:"i18n:COMPONENT.button.hover_color"})],t.prototype,"hoverColor",void 0),r([p({displayName:"Disabled",tooltip:"i18n:COMPONENT.button.disabled_color"})],t.prototype,"disabledColor",void 0),r([u("StateColor")],t)}();o.StateColor=d;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e._interactable=!0,e._enableAutoGrayEffect=!1,e.longTouchType=c.NONE,e.triggerElapsed=1,e.triggerInterval=.5,e.transition=a.NONE,e.duration=.1,e.zoomScale=1.2,e.spriteSetIdx=0,e.spriteSet=[],e.colorSetIdx=0,e.colorSet=[],e.clickEvents=[],e._pressed=!1,e._hovered=!1,e._fromColor=null,e._toColor=null,e._time=0,e._transitionFinished=!0,e._fromScale=cc.Vec2.ZERO,e._toScale=cc.Vec2.ZERO,e._originalScale=null,e._sprite=null,e._curState=s.NORMAL,e._longTouchTime=0,e._longTouchTriggered=!1,e}var o;return n(e,t),o=e,Object.defineProperty(e.prototype,"interactable",{get:function(){return this._interactable},set:function(t){this._interactable=t,this._updateState(),this._interactable||this._resetState()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enableAutoGrayEffect",{get:function(){return this._enableAutoGrayEffect},set:function(t){this._enableAutoGrayEffect=t,this._updateDisabledState(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curState",{get:function(){return this._curState},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._applyTarget()},e.prototype._resetState=function(){this._pressed=!1,this._hovered=!1,this._longTouchTime=0,this._longTouchTriggered=!1;var t=this._getTarget(),e=this.transition,o=this._originalScale;(a.COLOR===e&&this._interactable||a.COLOR_SCALE===e)&&this._setTargetColor(this._getStateColor(s.NORMAL)),a.SCALE!==e&&a.COLOR_SCALE!=e&&a.SPRITE_SCALE!==e||!o||t.setScale(o.x,o.y),this._transitionFinished=!0;var i=this._getButtonState();i!=this._curState&&(this._curState=i,this.node.emit("stateChange",this,this._curState,i))},e.prototype.onEnable=function(){this._registerNodeEvent(),this._updateState()},e.prototype.onDisable=function(){this._resetState(),this._unregisterNodeEvent()},e.prototype.switchSpriteSet=function(t){t!=this.spriteSetIdx&&(this.spriteSetIdx=t,this._updateState())},e.prototype.switchColorSet=function(t){t!=this.colorSetIdx&&(this.colorSetIdx=t,this._updateState())},e.prototype._getTarget=function(){return this.target?this.target:this.node},e.prototype._onTargetScaleChanged=function(){var t=this._getTarget();this._originalScale&&(a.SCALE!==this.transition&&a.COLOR_SCALE!==this.transition&&a.SPRITE_SCALE!==this.transition||this._transitionFinished)&&(this._originalScale.x=t.scaleX,this._originalScale.y=t.scaleY)},e.prototype._setTargetColor=function(t){var e=this._getTarget(),o=t.clone();e.opacity=o.a,o.a=255,e.color=o},e.prototype._getStateColor=function(t){var e=this.colorSet[this.colorSetIdx];if(!e)return cc.Color.WHITE;switch(t){case s.NORMAL:return e.normalColor;case s.HOVER:return e.hoverColor;case s.PRESSED:return e.pressedColor;case s.DISABLED:return e.disabledColor}},e.prototype._getStateSprite=function(t){var e=this.spriteSet[this.spriteSetIdx];if(!e)return null;switch(t){case s.NORMAL:return e.normalSprite;case s.HOVER:return e.hoverSprite;case s.PRESSED:return e.pressedSprite;case s.DISABLED:return e.disabledSprite}},e.prototype.update=function(t){if(s.PRESSED==this._curState){var e=!1;switch(this.longTouchType){case c.ONCE:this._longTouchTriggered||(this._longTouchTime+=t,e=!0);break;case c.MULTIPLE:this._longTouchTime+=t,e=!0;break;default:e=!1}e&&(this._longTouchTriggered?this._longTouchTime>=this.triggerInterval&&(this.node.emit("longTouch",this),this._longTouchTime=0):this._longTouchTime>=this.triggerElapsed&&(this.node.emit("longTouch",this),this._longTouchTime=0,this._longTouchTriggered=!0))}if(!this._transitionFinished){var o=this._getTarget();this._time+=t;var i=1;if(this.duration>0&&(i=this._time/this.duration),i>=1&&(i=1),a.COLOR===this.transition||a.COLOR_SCALE===this.transition){var n=this._fromColor.lerp(this._toColor,i);this._setTargetColor(n)}if((a.SCALE===this.transition||a.COLOR_SCALE===this.transition||a.SPRITE_SCALE===this.transition)&&this._originalScale){var r=this._fromScale.lerp(this._toScale,i);o.scaleX=r.x,o.scaleY=r.y}1===i&&(this._transitionFinished=!0)}},e.prototype._registerNodeEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchBegan,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnded,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this),this.node.on(cc.Node.EventType.MOUSE_ENTER,this._onMouseMoveIn,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this._onMouseMoveOut,this)},e.prototype._unregisterNodeEvent=function(){this.node.off(cc.Node.EventType.TOUCH_START,this._onTouchBegan,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this._onTouchEnded,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this),this.node.off(cc.Node.EventType.MOUSE_ENTER,this._onMouseMoveIn,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this._onMouseMoveOut,this)},e.prototype._registerTargetEvent=function(t){t.on(cc.Node.EventType.SCALE_CHANGED,this._onTargetScaleChanged,this)},e.prototype._unregisterTargetEvent=function(t){t.off(cc.Node.EventType.SCALE_CHANGED,this._onTargetScaleChanged,this)},e.prototype._getTargetSprite=function(t){var e=null;return t&&(e=t.getComponent(cc.Sprite)),e},e.prototype._applyTarget=function(){var t=this._getTarget();this._sprite=this._getTargetSprite(t),this._originalScale||(this._originalScale=cc.Vec2.ZERO),this._originalScale.x=t.scaleX,this._originalScale.y=t.scaleY,this._registerTargetEvent(t)},e.prototype._onTouchBegan=function(t){this._interactable&&this.enabledInHierarchy&&(o.isOnCooling||(this._pressed=!0,this._longTouchTime=0,this._longTouchTriggered=!1,this._updateState(),t.stopPropagation(),o.isOnCooling=!0))},e.prototype._onTouchMove=function(t){if(this._interactable&&this.enabledInHierarchy&&this._pressed){var e=t.touch,o=this.node._hitTest(e.getLocation()),i=this._getTarget(),n=this._originalScale,r=s.NORMAL;if(a.SCALE!==this.transition&&a.COLOR_SCALE!==this.transition&&a.SPRITE_SCALE!==this.transition||!n)r=o?s.PRESSED:s.NORMAL,this._applyTransition(r);else if(o?(r=s.PRESSED,this._fromScale.x=n.x,this._fromScale.y=n.y,this._toScale.x=n.x*this.zoomScale,this._toScale.y=n.y*this.zoomScale,this._transitionFinished=!1):(r=s.NORMAL,this._time=0,this._transitionFinished=!0,i.setScale(n.x,n.y)),a.SPRITE_SCALE===this.transition&&this._updateSpriteTransition(r),a.COLOR_SCALE===this.transition){var c=this._getStateColor(r);this._fromColor=i.color.clone(),this._toColor=c,o||this._updateColorTransitionImmediately(r)}t.stopPropagation(),r!=this._curState&&(this._curState=r,this.node.emit("stateChange",this,this._curState,r))}},e.prototype._onTouchEnded=function(t){this._interactable&&this.enabledInHierarchy&&(this._pressed&&(this._longTouchTriggered||(cc.Component.EventHandler.emitEvents(this.clickEvents,t),this.node.emit("click",this))),this._pressed=!1,this._longTouchTime=0,this._longTouchTriggered=!1,this._updateState(),t.stopPropagation())},e.prototype._onTouchCancel=function(){this._interactable&&this.enabledInHierarchy&&(this._pressed=!1,this._longTouchTime=0,this._longTouchTriggered=!1,this._updateState())},e.prototype._onMouseMoveIn=function(){if(!this._pressed&&this._interactable&&this.enabledInHierarchy){var t=this._getStateSprite(s.HOVER);(a.SPRITE!==this.transition&&a.SPRITE_SCALE!==this.transition||t)&&(this._hovered||(this._hovered=!0,this._updateState()))}},e.prototype._onMouseMoveOut=function(){this._hovered&&(this._hovered=!1,this._updateState())},e.prototype._updateState=function(){var t=this._getButtonState();this._applyTransition(t),this._updateDisabledState(),t!=this._curState&&(this._curState=t,this.node.emit("stateChange",this,this._curState,t))},e.prototype._getButtonState=function(){return s.NORMAL,this._interactable?this._pressed?s.PRESSED:this._hovered?s.HOVER:s.NORMAL:s.DISABLED},e.prototype._updateColorTransitionImmediately=function(t){var e=this._getStateColor(t);this._setTargetColor(e),this._fromColor=e.clone(),this._toColor=e},e.prototype._updateColorTransition=function(t){if(t===s.DISABLED)this._updateColorTransitionImmediately(t);else{var e=this._getTarget(),o=this._getStateColor(t);this._fromColor=e.color.clone(),this._toColor=o,this._time=0,this._transitionFinished=!1}},e.prototype._updateSpriteTransition=function(t){var e=this._getStateSprite(t);this._sprite&&e&&(this._sprite.spriteFrame=e)},e.prototype._updateScaleTransition=function(t){t===s.PRESSED?this._zoomUp():this._zoomBack()},e.prototype._zoomUp=function(){this._originalScale&&(this._fromScale.x=this._originalScale.x,this._fromScale.y=this._originalScale.y,this._toScale.x=this._originalScale.x*this.zoomScale,this._toScale.y=this._originalScale.y*this.zoomScale,this._time=0,this._transitionFinished=!1)},e.prototype._zoomBack=function(){if(this._originalScale){var t=this._getTarget();this._fromScale.x=t.scaleX,this._fromScale.y=t.scaleY,this._toScale.x=this._originalScale.x,this._toScale.y=this._originalScale.y,this._time=0,this._transitionFinished=!1}},e.prototype._applyTransition=function(t){switch(this.transition){case a.COLOR:this._updateColorTransition(t);break;case a.SPRITE:this._updateSpriteTransition(t);break;case a.SCALE:this._updateScaleTransition(t);break;case a.COLOR_SCALE:this._updateColorTransition(t),this._updateScaleTransition(t);break;case a.SPRITE_SCALE:this._updateSpriteTransition(t),this._updateScaleTransition(t)}},e.prototype._updateDisabledState=function(t){if(this._sprite&&(this._enableAutoGrayEffect||t)){var e=!1,o=this._getStateSprite(s.DISABLED);(a.SPRITE!==this.transition&&a.SPRITE_SCALE!==this.transition||!o)&&(e=this._enableAutoGrayEffect&&!this._interactable),this._switchGrayMaterial(e,this.node,!0)}},e.prototype._switchGrayMaterial=function(t,e,o){var i=this,n=t?cc.Material.BUILTIN_NAME.GRAY_SPRITE:cc.Material.BUILTIN_NAME.SPRITE,r=cc.Material.createWithBuiltin(n.toString(),0);r.define("USE_TEXTURE",!0,0);var a=e.getComponent(cc.Sprite);a&&a.setMaterial(0,r),(a=e.getComponent(cc.Label))&&a.setMaterial(0,r),o&&e.children.forEach(function(e){i._switchGrayMaterial(t,e,o)},this)},Object.defineProperty(e,"isOnCooling",{get:function(){return o._isOnCooling},set:function(t){t&&this._setTimeOutId&&(clearTimeout(this._setTimeOutId),this._setTimeOutId=null),o._isOnCooling=t,this._setTimeOutId=setTimeout(function(){o._isOnCooling=!1},100)},enumerable:!1,configurable:!0}),e._isOnCooling=!1,e._setTimeOutId=null,r([p({type:cc.Node,tooltip:"i18n:COMPONENT.button.target"})],e.prototype,"target",void 0),r([p({visible:!0,displayName:"interactable",tooltip:"i18n:COMPONENT.button.interactable"})],e.prototype,"_interactable",void 0),r([p({visible:!0,displayName:"enableAutoGrayEffect",tooltip:"i18n:COMPONENT.button.auto_gray_effect"})],e.prototype,"_enableAutoGrayEffect",void 0),r([p({type:cc.Enum(c),visible:!0,tooltip:"\u652f\u6301\u957f\u6309\u7c7b\u578b"})],e.prototype,"longTouchType",void 0),r([p({visible:function(){return c.NONE!=this.longTouchType},displayName:"triggerElapsed",tooltip:"\u957f\u6309\u9996\u6b21\u89e6\u53d1\u65f6\u957f(s)"})],e.prototype,"triggerElapsed",void 0),r([p({visible:function(){return c.NONE!=this.longTouchType},displayName:"triggerInterval",tooltip:"\u957f\u6309\u6301\u7eed\u89e6\u53d1\u95f4\u9694(s)"})],e.prototype,"triggerInterval",void 0),r([p({type:cc.Enum(a),tooltip:"i18n:COMPONENT.button.transition"})],e.prototype,"transition",void 0),r([p({type:cc.Float,visible:function(){return a.COLOR==this.transition||a.SCALE==this.transition||a.COLOR_SCALE==this.transition||a.SPRITE_SCALE==this.transition},tooltip:"i18n:COMPONENT.button.duration"})],e.prototype,"duration",void 0),r([p({type:cc.Float,visible:function(){return a.SCALE==this.transition||a.COLOR_SCALE==this.transition||a.SPRITE_SCALE==this.transition},tooltip:"i18n:COMPONENT.button.zoom_scale"})],e.prototype,"zoomScale",void 0),r([p({type:cc.Integer,visible:function(){return a.SPRITE==this.transition||a.SPRITE_SCALE==this.transition},tooltip:"\u5f53\u524d\u4f7f\u7528\u7684\u72b6\u6001\u56fe\u7247\u8d44\u6e90\u96c6\u7d22\u5f15"})],e.prototype,"spriteSetIdx",void 0),r([p({type:[h],visible:function(){return a.SPRITE==this.transition||a.SPRITE_SCALE==this.transition},tooltip:"\u72b6\u6001\u56fe\u7247\u8d44\u6e90\u96c6"})],e.prototype,"spriteSet",void 0),r([p({type:cc.Integer,visible:function(){return a.COLOR==this.transition||a.COLOR_SCALE==this.transition},tooltip:"\u5f53\u524d\u4f7f\u7528\u7684\u6309\u94ae\u80cc\u666f\u989c\u8272\u96c6\u7d22\u5f15"})],e.prototype,"colorSetIdx",void 0),r([p({type:[d],visible:function(){return a.COLOR==this.transition||a.COLOR_SCALE==this.transition},tooltip:"\u6309\u94ae\u80cc\u666f\u989c\u8272\u96c6"})],e.prototype,"colorSet",void 0),r([p({type:cc.Component.EventHandler,tooltip:"i18n:COMPONENT.button.click_events"})],e.prototype,"clickEvents",void 0),o=r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{}],Decorator:[function(t,e,o){"use strict";cc._RF.push(e,"b1c778QcnlAAo1v4xZxX8AJ","Decorator");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Decorator=void 0;var r=t("./BehaviorTree"),a=function(t){function e(e){var o=t.call(this)||this;return e&&(o.node=r.BehaviorTree.getNode(e)),o}return n(e,t),e.prototype.setNode=function(t){this.node=r.BehaviorTree.getNode(t)},e.prototype.start=function(){this.node.setControl(this),this.node.start(),t.prototype.start.call(this)},e.prototype.end=function(){this.node.end()},e.prototype.run=function(t){this.node.run(t)},e}(t("./BTreeNode").BTreeNode);o.Decorator=a,cc._RF.pop()},{"./BTreeNode":"BTreeNode","./BehaviorTree":"BehaviorTree"}],Defines:[function(t,e,o){"use strict";cc._RF.push(e,"c7872YEBIlPT4yvLWl/jJB8","Defines");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ViewParams=o.PopViewParams=o.UICallbacks=void 0;var r=function(){};o.UICallbacks=r;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(r);o.PopViewParams=a,o.ViewParams=function(){this.uuid=null,this.prefabPath=null,this.params=null,this.callbacks=null,this.valid=!0,this.node=null,this.UIConfig=null},cc._RF.pop()},{}],DelegateComponent:[function(t,e,o){"use strict";cc._RF.push(e,"3294djjIglPlKi3aSywW85P","DelegateComponent");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.DelegateComponent=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.viewParams=null,e}return n(e,t),e.prototype.add=function(){this.applyComponentsFunction(this.node,"onOpen",this.viewParams.params),"function"==typeof this.viewParams.callbacks.onOpen&&this.viewParams.callbacks.onOpen(this.node,this.viewParams.params)},e.prototype.remove=function(t){this.viewParams.valid&&(this.removed(this.viewParams,t),this.applyComponentsFunction(this.node,"onClose",this.viewParams.params))},e.prototype.removed=function(t,e){t.valid=!1,e?this.node.destroy():this.node.removeFromParent()},e.prototype.onDestroy=function(){this.viewParams=null},e.prototype.applyComponentsFunction=function(t,e,o){for(var i=0;i<t._components.length;i++){var n=t._components[i],r=n[e];r&&r.call(n,o)}},e}(cc.Component);o.DelegateComponent=r,cc._RF.pop()},{}],DeviceUtil:[function(t,e,o){"use strict";cc._RF.push(e,"f0c06dzgCVJYZuxM386dkWt","DeviceUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.getSafeAreaRect=function(){return cc.sys.getSafeAreaRect()},Object.defineProperty(t,"platform",{get:function(){return cc.sys.platform},enumerable:!1,configurable:!0}),Object.defineProperty(t,"os",{get:function(){return cc.sys.os},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isAndroid",{get:function(){return cc.sys.platform===cc.sys.ANDROID},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isNative",{get:function(){return cc.sys.isNative},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isBrowser",{get:function(){return cc.sys.isBrowser},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isMobile",{get:function(){return cc.sys.isMobile},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isIPhone",{get:function(){return cc.sys.platform===cc.sys.IPHONE},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isIPad",{get:function(){return cc.sys.platform===cc.sys.IPAD},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isMobileBrowser",{get:function(){return cc.sys.platform===cc.sys.MOBILE_BROWSER},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isDesktopBrowser",{get:function(){return cc.sys.platform===cc.sys.DESKTOP_BROWSER},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isWeChat",{get:function(){return cc.sys.platform===cc.sys.WECHAT_GAME},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isQQPlay",{get:function(){return cc.sys.platform===cc.sys.QQ_PLAY},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isByteDance",{get:function(){return cc.sys.platform===cc.sys.BYTEDANCE_GAME},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isBaidu",{get:function(){return cc.sys.platform===cc.sys.BAIDU_GAME},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isVivo",{get:function(){return cc.sys.platform===cc.sys.VIVO_GAME},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isOPPO",{get:function(){return cc.sys.platform===cc.sys.OPPO_GAME},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isXiaomi",{get:function(){return cc.sys.platform===cc.sys.XIAOMI_GAME},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isHuawei",{get:function(){return cc.sys.platform===cc.sys.HUAWEI_GAME},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isAlipay",{get:function(){return cc.sys.platform===cc.sys.ALIPAY_GAME},enumerable:!1,configurable:!0}),t}();o.default=i,cc._RF.pop()},{}],EventMessage:[function(t,e,o){"use strict";cc._RF.push(e,"45871X29YFDWZNW/kBfOEn6","EventMessage"),Object.defineProperty(o,"__esModule",{value:!0}),o.GAMELOCALNAME=o.EventMessage=void 0,function(t){t.GAME_ENTER="EventMessage_GAME_ENTER",t.GAME_EXIT="EventMessage_GAME_EXIT",t.GAME_RESIZE="EventMessage_GAME_RESIZE",t.GAME_NO_ADVERTISEMENT="GAME_NO_ADVERTISEMENT",t.GAME_AD_VIDEO_STATUS="GAME_AD_VIDEO_STATUS",t.GAME_MACRO_KEY_SPACE="GAME_MACRO_KEY_SPACE",t.GAME_mess_clockHide="GAME_mess_clockHide",t.GAME_mess_clockStart="GAME_mess_clockStart"}(o.EventMessage||(o.EventMessage={})),function(t){t.GAME_LOCAL_LANGUAGE="GAME_LOCAL_LANGUAGE",t.GAME_LOCAL_SHORT="GAME_LOCAL_SHORT"}(o.GAMELOCALNAME||(o.GAMELOCALNAME={})),cc._RF.pop()},{}],GM:[function(t,e,o){"use strict";cc._RF.push(e,"1275bquORxEuYAOfSUtGXss","GM");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../core/language/LanguageManager"),s=t("../../core/utils/ComUtils"),c=t("../../global/Global"),l=t("../model/PopupModel"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui_btnSure=null,e.ui_btnClose=null,e.ui_btnLanguages=null,e.ui_btnFPS=null,e.ui_btnLanguageItem=null,e.ui_LanguagePanels=null,e}return n(e,t),e.prototype.onOpen=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.ui_btnSure&&this.ui_btnSure.on("click",this.onClickSure,this),this.ui_btnClose&&this.ui_btnClose.on("click",this.onClickClose,this),this.ui_btnLanguages&&this.ui_btnLanguages.on("click",this.onClickLanguage,this),this.ui_btnFPS&&this.ui_btnFPS.on("click",this.onClickFPS,this);var o=c.default.getInstance().getGameConfig().languages,i="";if(o)for(var n=0;n<o.length;n++){var r=o[n];switch(r){case a.LanguageType.ZH:i="\u7b80\u4f53\u4e2d\u6587";break;case a.LanguageType.EN:i="\u82f1\u6587";break;case a.LanguageType.JA:i="\u65e5\u8bed";break;case a.LanguageType.KO:i="\u97e9\u8bed";break;case a.LanguageType.TH:i="\u6cf0\u8bed";break;case a.LanguageType.PT:i="\u8461\u8bed";break;case a.LanguageType.ID:i="\u5370\u5c3c\u8bed";break;case a.LanguageType.VI:i="\u8d8a\u5357\u8bed";break;case a.LanguageType.ES:i="\u897f\u73ed\u7259\u8bed";break;case a.LanguageType.RU:i="\u4fc4\u8bed";break;case a.LanguageType.DE:i="\u5fb7\u8bed";break;case a.LanguageType.SV:i="\u745e\u5178\u6587";break;case a.LanguageType.IT:i="\u610f\u5927\u5229";break;case a.LanguageType.DA:i="\u4e39\u9ea6\u6587";break;case a.LanguageType.NL:i="\u8377\u5170\u6587";break;case a.LanguageType.FI:i="\u82ac\u5170";break;case a.LanguageType.FR:i="\u6cd5\u6587";break;case a.LanguageType.NO:i="\u632a\u5a01";break;case a.LanguageType.PL:i="\u6ce2\u5170";break;case a.LanguageType.RO:i="\u7f57\u9a6c\u5c3c\u4e9a";break;case a.LanguageType.TR:i="\u571f\u8033\u5176";break;case a.LanguageType.MY:i="\u7f05\u7538"}if(""!=i){var s=cc.instantiate(this.ui_btnLanguageItem);s.active=!0,s.name=r,s.on("click",this.onClickLanguageChange,this),this.ui_LanguagePanels.addChild(s),s.getChildByName("lb").getComponent(cc.Label).string=i}}},e.prototype.onClickLanguageChange=function(t){var e=t.node.name;if(cc.sys.isBrowser){if(e==a.LanguageManager.getInstance().getCurLang())return void this.onClickClose();s.default.changeURLArg("language",e,!0)}},e.prototype.removeEvent=function(){this.ui_btnSure&&this.ui_btnSure.off("click",this.onClickSure,this),this.ui_btnClose&&this.ui_btnClose.off("click",this.onClickClose,this),this.ui_btnLanguages&&this.ui_btnLanguages.off("click",this.onClickLanguage,this),this.ui_btnFPS&&this.ui_btnFPS.off("click",this.onClickFPS,this)},e.prototype.onClickLanguage=function(){},e.prototype.onClickFPS=function(){cc.debug.setDisplayStats(!cc.debug.isDisplayStats())},e.prototype.onClickSure=function(){this.removeEvent(),this.closeNode()},e.prototype.onClickClose=function(){this.removeEvent(),this.closeNode()},r([h({type:cc.Node,tooltip:"\u786e\u5b9a\u6309\u94ae"})],e.prototype,"ui_btnSure",void 0),r([h({type:cc.Node,tooltip:"\u53d6\u6d88\u6309\u94ae"})],e.prototype,"ui_btnClose",void 0),r([h({type:cc.Node,tooltip:"\u591a\u8bed\u8a00\u6309\u94ae"})],e.prototype,"ui_btnLanguages",void 0),r([h({type:cc.Node,tooltip:"FPS\u6309\u94ae"})],e.prototype,"ui_btnFPS",void 0),r([h({type:cc.Node,tooltip:"\u63d0\u4f9b\u590d\u5236\u7684\u6309\u94ae"})],e.prototype,"ui_btnLanguageItem",void 0),r([h({type:cc.Node,tooltip:"\u591a\u8bed\u8a00layout"})],e.prototype,"ui_LanguagePanels",void 0),r([p],e)}(l.default);o.default=d,cc._RF.pop()},{"../../core/language/LanguageManager":"LanguageManager","../../core/utils/ComUtils":"ComUtils","../../global/Global":"Global","../model/PopupModel":"PopupModel"}],GUIView:[function(t,e,o){"use strict";cc._RF.push(e,"7ae3fRJAYtAtpFadEBMrAR0","GUIView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.GUIView=void 0;var r=t("../../core/event/EventMessage"),a=t("../../core/event/MessageManager"),s=t("../../core/log/Loger"),c=t("../../global/Constant"),l=t("../../global/Global"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_designSize=null,e.m_longSize=0,e.m_shortSize=0,e.m_orientation=c.Orientation.Auto,e}return n(e,t),e.prototype.onLoad=function(){this.init()},e.prototype.init=function(){this.camera=this.getComponentInChildren(cc.Camera),this.m_designSize=new cc.Size(l.default.getInstance().getGameConfig().canvas.width,l.default.getInstance().getGameConfig().canvas.height),this.m_longSize=this.m_designSize.width>this.m_designSize.height?this.m_designSize.width:this.m_designSize.height,this.m_shortSize=this.m_designSize.width>this.m_designSize.height?this.m_designSize.height:this.m_designSize.width,this.m_orientation=l.default.getInstance().getGameConfig().orientation,s.Loger.logView(this.m_designSize,"\u8bbe\u8ba1\u5c3a\u5bf8"),window.addEventListener("resize",this.resize.bind(this)),this.resize()},e.prototype.resize=function(){var t=cc.view.getFrameSize(),e=t.width,o=t.height,i=e,n=o;this.m_orientation==c.Orientation.Auto||this.m_orientation==c.Orientation.Portrait||(this.m_orientation,c.Orientation.Landscape),this.m_orientation!=c.Orientation.Auto?(this.isPortrait=this.m_orientation==c.Orientation.Portrait,e/o>this.m_designSize.width/this.m_designSize.height?i=(n=this.m_designSize.height)*e/o:n=(i=this.m_designSize.width)*o/e):cc.view.getCanvasSize().width>=cc.view.getCanvasSize().height?e/o>this.m_longSize/this.m_shortSize?(i=(n=this.m_shortSize)*e/o,this.isPortrait=!1):(n=(i=this.m_longSize)*o/e,this.isPortrait=!1):e/o>this.m_shortSize/this.m_longSize?(i=(n=this.m_longSize)*e/o,this.isPortrait=!0):(n=(i=this.m_shortSize)*o/e,this.isPortrait=!0),cc.view.setDesignResolutionSize(i,n,cc.ResolutionPolicy.SHOW_ALL),this.node.setContentSize(i,n),a.default.getInstance().dispatchEvent(r.EventMessage.GAME_RESIZE)},e}(cc.Component);o.GUIView=u,cc._RF.pop()},{"../../core/event/EventMessage":"EventMessage","../../core/event/MessageManager":"MessageManager","../../core/log/Loger":"Loger","../../global/Constant":"Constant","../../global/Global":"Global"}],GUI:[function(t,e,o){"use strict";cc._RF.push(e,"a7a00nAJcxAIo62GXHuvsoU","GUI");var i=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},n=this&&this.__generator||function(t,e){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.GUI=o.UIConfig=o.LayerType=void 0;var r,a=t("../../global/Global"),s=t("../utils/DeviceUtil"),c=t("../wx/WxManager"),l=t("./DelegateComponent"),u=t("./LayerDialog"),p=t("./LayerPopUp"),h=t("./LayerToast"),d=t("./LayerUI");(function(t){t.Game="LayerGame",t.UI="LayerUI",t.PopUp="LayerPopUp",t.Dialog="LayerDialog",t.Toast="LayerToast",t.Guide="LayerGuide",t.Waiting="LayerWaiting"})(r=o.LayerType||(o.LayerType={})),o.UIConfig=function(){};var f=function(){function t(){this.m_configs=new Map}return t.getInstance=function(){return this._instance?this._instance:(this._instance=new t,this._instance)},t.prototype.addUIConf=function(t,e){this.m_configs.set(e,t)},t.prototype.removeUIConf=function(t){this.m_configs.delete(t)},t.prototype.showModal=function(t,e,o,i){if(s.default.isWeChat&&a.default.getInstance().getGameConfig().wxConfig.nativeModal)c.default.getInstance().showModal(o.content,o.showCancel,function(){o.success&&o.success.run()},function(){o.fail&&o.fail.run()});else{var n=this.m_configs.get(e);if(null!=n){var r=n[t];null!=r?this.dialog.add(r,o,i):cc.warn("\u6253\u5f00\u7f16\u53f7\u4e3a\u3010"+t+"\u3011\u7684\u754c\u9762\u5931\u8d25\uff0c\u914d\u7f6e\u4fe1\u606f\u4e0d\u5b58\u5728")}else cc.warn("\u3010"+e+"\u3011\u4e0b\u6ca1\u6709\u754c\u9762\u914d\u7f6e")}},t.prototype.toast=function(t,e,o){if(s.default.isWeChat&&a.default.getInstance().getGameConfig().wxConfig.nativeToast)c.default.getInstance().showToast(o.msg);else{var i=this.m_configs.get(e);if(null!=i){var n=i[t];null!=n?this.toasts.show(n,o):cc.warn("\u6253\u5f00\u7f16\u53f7\u4e3a\u3010"+t+"\u3011\u7684\u754c\u9762\u5931\u8d25\uff0c\u914d\u7f6e\u4fe1\u606f\u4e0d\u5b58\u5728")}else cc.warn("\u3010"+e+"\u3011\u4e0b\u6ca1\u6709\u754c\u9762\u914d\u7f6e")}},t.prototype.loading=function(t,e,o,i,n){if(void 0===i&&(i=null),s.default.isWeChat&&a.default.getInstance().getGameConfig().wxConfig.nativeLoading)t?c.default.getInstance().showLoading():c.default.getInstance().hideLoading();else if(t){var r=this.m_configs.get(o);if(null!=r){var l=r[e];null!=l?this.waiting.add(l,i,n):cc.warn("\u6253\u5f00\u7f16\u53f7\u4e3a\u3010"+e+"\u3011\u7684\u754c\u9762\u5931\u8d25\uff0c\u914d\u7f6e\u4fe1\u606f\u4e0d\u5b58\u5728")}else cc.warn("\u3010"+o+"\u3011\u4e0b\u6ca1\u6709\u754c\u9762\u914d\u7f6e")}else this.remove(e,o)},t.prototype.open=function(t,e,o,i){void 0===o&&(o=null);var n=this.m_configs.get(e);if(null!=n){var a=n[t];if(null!=a)switch(a.layer){case r.UI:this.ui.add(a,o,i);break;case r.PopUp:this.popup.add(a,o,i);break;case r.Dialog:this.dialog.add(a,o,i);break;case r.Toast:this.toasts.show(a,o);break;case r.Waiting:this.waiting.add(a,o,i)}else cc.warn("\u6253\u5f00\u7f16\u53f7\u4e3a\u3010"+t+"\u3011\u7684\u754c\u9762\u5931\u8d25\uff0c\u914d\u7f6e\u4fe1\u606f\u4e0d\u5b58\u5728")}else cc.warn("\u3010"+e+"\u3011\u4e0b\u6ca1\u6709\u754c\u9762\u914d\u7f6e")},t.prototype.openAsync=function(t,e,o){return void 0===o&&(o=null),i(this,void 0,Promise,function(){var i=this;return n(this,function(){return[2,new Promise(function(n,r){var a=i.m_configs.get(e);if(null==a)return cc.warn("\u3010"+e+"\u3011\u4e0b\u6ca1\u6709\u754c\u9762\u914d\u7f6e"),r();if(null==a[t])return cc.warn("\u6253\u5f00\u7f16\u53f7\u4e3a\u3010"+t+"\u3011\u7684\u754c\u9762\u5931\u8d25\uff0c\u914d\u7f6e\u4fe1\u606f\u4e0d\u5b58\u5728"),r();var s={onOpen:function(t){n(t)}};i.open(t,e,o,s)})]})})},t.prototype.has=function(t,e){var o=this.m_configs.get(e);if(null!=o){var i=o[t];if(null!=i){var n=!1;switch(i.layer){case r.UI:n=this.ui.has(i.prefab);break;case r.PopUp:n=this.popup.has(i.prefab);break;case r.Dialog:n=this.dialog.has(i.prefab);break;case r.Toast:n=this.toasts.has(i.prefab);break;case r.Waiting:n=this.waiting.has(i.prefab)}return n}cc.warn("\u6253\u5f00\u7f16\u53f7\u4e3a\u3010"+t+"\u3011\u7684\u754c\u9762\u5931\u8d25\uff0c\u914d\u7f6e\u4fe1\u606f\u4e0d\u5b58\u5728")}else cc.warn("\u3010"+e+"\u3011\u4e0b\u6ca1\u6709\u754c\u9762\u914d\u7f6e")},t.prototype.remove=function(t,e){var o=this.m_configs.get(e);if(null!=o){var i=o[t];if(null!=i)switch(i.layer){case r.UI:this.ui.remove(i.prefab,i.isDestroy);break;case r.PopUp:this.popup.remove(i.prefab,i.isDestroy);break;case r.Dialog:this.dialog.remove(i.prefab,i.isDestroy);break;case r.Waiting:this.waiting.remove(i.prefab,i.isDestroy)}else cc.warn("\u3010"+t+"\u3011 remove error!")}else cc.warn("\u3010"+e+"\u3011\u4e0b\u6ca1\u6709\u754c\u9762\u914d\u7f6e")},t.prototype.close=function(t){var e=t.node;if(e){var o=e.getComponent(l.DelegateComponent);if(o&&o.viewParams){var i=o.viewParams.UIConfig;if(null==i)return void cc.warn("close error!");switch(i.layer){case r.UI:this.ui.remove(i.prefab,i.isDestroy);break;case r.PopUp:this.popup.remove(i.prefab,i.isDestroy);break;case r.Dialog:this.dialog.remove(i.prefab,i.isDestroy);break;case r.Waiting:this.waiting.remove(i.prefab,i.isDestroy)}}else cc.warn("\u5f53\u524d\u5220\u9664\u7684node\u4e0d\u662f\u901a\u8fc7\u754c\u9762\u7ba1\u7406\u5668\u6dfb\u52a0\u5230\u821e\u53f0\u4e0a"),e.destroy()}},t.prototype.clear=function(t){void 0===t&&(t=!0),this.ui.clearNodes(t),this.popup.clearNodes(t),this.dialog.clearNodes(t)},t.prototype.setRoot=function(t){this.root=t,this.camera=this.root.getComponentInChildren(cc.Camera),this.game=this.create_node(r.Game),this.ui=new d.LayerUI(r.UI),this.popup=new p.LayerPopUp(r.PopUp),this.dialog=new u.LayerDialog(r.Dialog),this.toasts=new h.LayerToast(r.Toast),this.guide=this.create_node(r.Guide),this.waiting=new p.LayerPopUp(r.Waiting),t.addChild(this.game),t.addChild(this.ui),t.addChild(this.popup),t.addChild(this.dialog),t.addChild(this.toasts),t.addChild(this.guide),t.addChild(this.waiting)},t.prototype.create_node=function(t){var e=new cc.Node(t),o=e.addComponent(cc.Widget);return o.isAlignLeft=o.isAlignRight=o.isAlignTop=o.isAlignBottom=!0,o.left=o.right=o.top=o.bottom=0,o.alignMode=cc.Widget.AlignMode.ON_WINDOW_RESIZE,o.enabled=!0,e},t}();o.GUI=f,cc._RF.pop()},{"../../global/Global":"Global","../utils/DeviceUtil":"DeviceUtil","../wx/WxManager":"WxManager","./DelegateComponent":"DelegateComponent","./LayerDialog":"LayerDialog","./LayerPopUp":"LayerPopUp","./LayerToast":"LayerToast","./LayerUI":"LayerUI"}],GeometryUtil:[function(t,e,o){"use strict";cc._RF.push(e,"a6d26weqA9C5aqKO+2anRL2","GeometryUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.pointOnLine=function(t,e,o){var i=o.sub(e),n=t.sub(e),r=0===i.cross(n).mag(),a=t.x>=Math.min(e.x,o.x)&&t.x<=Math.max(e.x,o.x)&&t.y>=Math.min(e.y,o.y)&&t.y<=Math.max(e.y,o.y);return r&&a},t.pointInTriangle=function(t,e,o,i){function n(t,e,o,i){var n=o.sub(e),r=i.sub(e),a=t.sub(e),s=n.cross(r),c=n.cross(a);return s.dot(c)>=0}return n(t,e,o,i)&&n(t,o,i,e)&&n(t,i,e,o)},t.pointLineDistance=function(t,e,o){var i=o.sub(e),n=t.sub(e),r=cc.Vec3.angle(i,n),a=n.mag();return Math.sin(r)*a},t}();o.default=i,cc._RF.pop()},{}],Global:[function(t,e,o){"use strict";cc._RF.push(e,"1cd46bapHJPLqets7JGZXWu","Global"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../core/event/EventMessage"),n=t("../core/utils/StorageUtil"),r=function(){function t(){this._gameConfig="",this._isVibrateShort=!0,this._launchParams=null}return t.getInstance=function(){return this._instance||(this._instance=new t,this._instance.init()),this._instance},t.prototype.init=function(){this._isVibrateShort=n.default.getBoolean(i.GAMELOCALNAME.GAME_LOCAL_SHORT,!0)},t.prototype.setLaunchParams=function(t){this._launchParams=t},t.prototype.getLaunchParams=function(){return this._launchParams},t.prototype.setGameConfig=function(t){this._gameConfig=t},t.prototype.getGameConfig=function(){return this._gameConfig},t.prototype.setVibrateShort=function(t){this._isVibrateShort=t,n.default.setBoolean(i.GAMELOCALNAME.GAME_LOCAL_SHORT,t)},t.prototype.getVibrateShort=function(){return this._isVibrateShort},t}();o.default=r,cc._RF.pop()},{"../core/event/EventMessage":"EventMessage","../core/utils/StorageUtil":"StorageUtil"}],Handler:[function(t,e,o){"use strict";cc._RF.push(e,"de34eABbGlOMIi/ciAqwgfD","Handler"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(t,e,o,i){void 0===t&&(t=null),void 0===e&&(e=null),void 0===o&&(o=null),void 0===i&&(i=!1),this.once=!1,this._id=0,this.setTo(t,e,o,i)}return t.prototype.setTo=function(e,o,i,n){return void 0===n&&(n=!1),this._id=t._gid++,this.caller=e,this.method=o,this.args=i,this.once=n,this},t.prototype.run=function(){if(null==this.method)return null;var t=this._id,e=this.method.apply(this.caller,this.args);return this._id===t&&this.once&&this.recover(),e},t.prototype.runWith=function(t){if(null==this.method)return null;var e=this._id;if(null==t)var o=this.method.apply(this.caller,this.args);else o=this.args||t.unshift?this.args?this.method.apply(this.caller,this.args.concat(t)):this.method.apply(this.caller,t):this.method.call(this.caller,t);return this._id===e&&this.once&&this.recover(),o},t.prototype.clear=function(){return this.caller=null,this.method=null,this.args=null,this},t.prototype.recover=function(){this._id>0&&(this._id=0,t._pool.push(this.clear()))},t.create=function(e,o,i,n){return void 0===i&&(i=null),void 0===n&&(n=!0),t._pool.length?t._pool.pop().setTo(e,o,i,n):new t(e,o,i,n)},t._pool=[],t._gid=1,t}();o.default=i,cc._RF.pop()},{}],IControl:[function(t,e,o){"use strict";cc._RF.push(e,"97879FwIu9HqrQrORXeTfZq","IControl"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],LabelChange:[function(t,e,o){"use strict";cc._RF.push(e,"e6e7fbbRKVEA5Zbr6ovd/o2","LabelChange");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LabelChange=void 0;var a=t("./LabelNumber"),s=cc._decorator,c=s.ccclass,l=(s.property,s.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isBegin=!1,e.speed=0,e.end=0,e}return n(e,t),e.prototype.changeTo=function(t,e,o){if(0==t)return this.value=e,void(o&&o.run());this.playAnim(t,this.value,e,o)},e.prototype.changeBy=function(t,e,o){if(0==t)return o&&o.run(),void(this.value+=e);this.playAnim(t,this.value,this.value+e,o)},e.prototype.stop=function(t){void 0===t&&(t=!0),this.value=this.end,this.isBegin=!1,t&&this.callback&&this.callback.run()},e.prototype.playAnim=function(t,e,o,i){this.end=o,this.callback=i,this.speed=(o-e)/t,this.value=e,this.isBegin=!0},e.prototype.isEnd=function(t){return this.speed>0?t>=this.end:t<=this.end},e.prototype.update=function(t){if(this.isBegin){if(this.value==this.end)return this.isBegin=!1,void(this.callback&&this.callback.run());var e=this.value+t*this.speed;this.isEnd(e)&&(e=this.end,this.isBegin=!1,this.callback&&this.callback.run()),this.value=e}},r([c],e)}(a.default));o.LabelChange=l,cc._RF.pop()},{"./LabelNumber":"LabelNumber"}],LabelNumber:[function(t,e,o){"use strict";cc._RF.push(e,"447e30RGg5LWLyGnStcxSlE","LabelNumber");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._value=0,e._showSym="",e.isInteger=!1,e}return n(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this.updateLabel()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showSym",{get:function(){return this._showSym},set:function(t){t&&(this._showSym=t,this.updateLabel())},enumerable:!1,configurable:!0}),e.prototype.updateLabel=function(){var t;"number"!=typeof this._value&&cc.error("[LabelNumber] num\u4e0d\u662f\u4e00\u4e2a\u5408\u6cd5\u6570\u5b57"),t=this.isInteger?Math.ceil(this.value).toString():this.value.toFixed(2),this.string=this.showSym+t},r([c],e.prototype,"_value",void 0),r([c({tooltip:"\u9ed8\u8ba4\u503c"})],e.prototype,"value",null),r([c({tooltip:"\u8d27\u5e01\u7b26\u53f7"})],e.prototype,"_showSym",void 0),r([c({tooltip:"\u8d27\u5e01\u7b26\u53f7"})],e.prototype,"showSym",null),r([c({tooltip:"\u662f\u5426\u6574\u6570\u53d8\u5316"})],e.prototype,"isInteger",void 0),r([s],e)}(cc.Label);o.default=l,cc._RF.pop()},{}],LabelShader:[function(t,e,o){"use strict";cc._RF.push(e,"76c5crBnaVOFbq5FYCRZT9/","LabelShader");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=(a.menu,a.requireComponent),u=a.disallowMultiple,p=a.executeInEditMode,h=cc.Enum({None:0,OneColor:1,TwoColor:2,TriColor:3}),d=cc.Enum({None:0,Lowp:1,Mediump:2,Highp:3}),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shadowUse=!1,e.shadowOffset=cc.v2(1,1),e.shadowColor=cc.color(0,0,0,150),e.outlineUse=!1,e.outlineWidth=1,e.outlineColor=cc.color(0,0,0,255),e.olShadowUse=!1,e.olShadowOffset=cc.v2(1,1),e.olShadowColor=cc.color(0,0,0,150),e.flowLightUse=!1,e.flSpeed=1,e.flRot=0,e.flWidth=15,e.flColor=cc.color(255,255,255,255),e.gradient=h.None,e.color1=cc.color(255,0,0,255),e.color2=cc.color(0,255,0,255),e.color3=cc.color(0,0,255,255),e.glow=d.None,e.glowWidth=10,e.glowDepth=2,e.glowColor=cc.color(255,255,255,255),e._mtl=null,e._time=0,e}return n(e,t),e.prototype.onLoad=function(){this.initMat()},e.prototype.initMat=function(){this._mtl=this.node.getComponent(cc.Label).getMaterial(0),this._mtl.define("USE_TEXTURE",!0,0),this.node.getComponent(cc.Label).setMaterial(0,this._mtl),this.use()},e.prototype.use=function(){if(this._mtl){switch(this._mtl.setProperty("i_resolution",[this.node.width,this.node.height]),this._mtl.setProperty("i_shadow",this.shadowUse?1:0),this._mtl.setProperty("i_shadowOffset",[-this.shadowOffset.x/this.node.width,-this.shadowOffset.y/this.node.height]),this._mtl.setProperty("i_shadowColor",[this.shadowColor.r/255,this.shadowColor.g/255,this.shadowColor.b/255,this.shadowColor.a/255]),this._mtl.setProperty("i_outline",this.outlineUse?1:0),this._mtl.setProperty("i_outlineWidth",[this.outlineWidth/this.node.width,this.outlineWidth/this.node.height]),this._mtl.setProperty("i_outlineColor",[this.outlineColor.r/255,this.outlineColor.g/255,this.outlineColor.b/255,this.outlineColor.a/255]),this._mtl.setProperty("i_olShadow",this.olShadowUse?1:0),this._mtl.setProperty("i_olShadowOffset",[-this.olShadowOffset.x/this.node.width,-this.olShadowOffset.y/this.node.height]),this._mtl.setProperty("i_olShadowColor",[this.olShadowColor.r/255,this.olShadowColor.g/255,this.olShadowColor.b/255,this.olShadowColor.a/255]),this._mtl.setProperty("i_gradient",this.gradient-1),this.gradient){case h.None:this._mtl.setProperty("i_color1",[this.node.color.r/255,this.node.color.g/255,this.node.color.b/255,this.node.color.a/255]);break;case h.OneColor:case h.TwoColor:case h.TriColor:this._mtl.setProperty("i_color1",[this.node.color.r/255,this.node.color.g/255,this.node.color.b/255,this.node.color.a/255]),this._mtl.setProperty("i_color1",[this.color1.r/255,this.color1.g/255,this.color1.b/255,this.color1.a/255]),this._mtl.setProperty("i_color2",[this.color2.r/255,this.color2.g/255,this.color2.b/255,this.color2.a/255]),this._mtl.setProperty("i_color3",[this.color3.r/255,this.color3.g/255,this.color3.b/255,this.color3.a/255])}this._mtl.setProperty("i_flowLight",this.flowLightUse?1:0),this._mtl.setProperty("i_flTime",this.flSpeed*this._time*60/this.node.width),this._mtl.setProperty("i_flRot",180*Math.atan(Math.tan(Math.PI*this.flRot/180)*this.node.height/this.node.width)/Math.PI),this._mtl.setProperty("i_flWidth",this.flWidth/this.node.width),this._mtl.setProperty("i_flColor",[this.flColor.r/255,this.flColor.g/255,this.flColor.b/255,this.flColor.a/255]),this._mtl.setProperty("i_glow",this.glow),this._mtl.setProperty("i_glowWidth",[this.glowWidth/this.node.width,this.glowWidth/this.node.height]),this._mtl.setProperty("i_glowDepth",this.glowDepth),this._mtl.setProperty("i_glowColor",[this.glowColor.r/255,this.glowColor.g/255,this.glowColor.b/255,this.glowColor.a/255])}},e.prototype.update=function(t){this._time+=t,this.use()},r([c({tooltip:"\u662f\u5426\u4f7f\u7528\u9634\u5f71"})],e.prototype,"shadowUse",void 0),r([c({tooltip:"\u9634\u5f71\u504f\u79fb\uff08\u50cf\u7d20\uff09",visible:function(){return this.shadowUse}})],e.prototype,"shadowOffset",void 0),r([c({tooltip:"\u9634\u5f71\u989c\u8272",visible:function(){return this.shadowUse}})],e.prototype,"shadowColor",void 0),r([c({tooltip:"\u662f\u5426\u4f7f\u7528\u63cf\u8fb9"})],e.prototype,"outlineUse",void 0),r([c({tooltip:"\u63cf\u8fb9\u5bbd\u5ea6\uff08\u50cf\u7d20\uff09",min:1,visible:function(){return this.outlineUse}})],e.prototype,"outlineWidth",void 0),r([c({tooltip:"\u63cf\u8fb9\u989c\u8272",visible:function(){return this.outlineUse}})],e.prototype,"outlineColor",void 0),r([c({tooltip:"\u662f\u5426\u4f7f\u7528\u63cf\u8fb9\u9634\u5f71",visible:function(){return this.outlineUse}})],e.prototype,"olShadowUse",void 0),r([c({tooltip:"\u63cf\u8fb9\u9634\u5f71\u504f\u79fb\uff08\u50cf\u7d20\uff09",visible:function(){return this.outlineUse&&this.olShadowUse}})],e.prototype,"olShadowOffset",void 0),r([c({tooltip:"\u63cf\u8fb9\u9634\u5f71\u989c\u8272",visible:function(){return this.outlineUse&&this.olShadowUse}})],e.prototype,"olShadowColor",void 0),r([c({tooltip:"\u662f\u5426\u4f7f\u7528\u626b\u5149\u52a8\u6548"})],e.prototype,"flowLightUse",void 0),r([c({tooltip:"\u626b\u5149\u52a8\u6548\u901f\u5ea6\uff08\u50cf\u7d20\uff09",visible:function(){return this.flowLightUse}})],e.prototype,"flSpeed",void 0),r([c({tooltip:"\u626b\u5149\u52a8\u6548\u65cb\u8f6c\u89d2\u5ea6",visible:function(){return this.flowLightUse}})],e.prototype,"flRot",void 0),r([c({tooltip:"\u626b\u5149\u52a8\u6548\u5bbd\u5ea6\uff08\u50cf\u7d20\uff09",min:1,visible:function(){return this.flowLightUse}})],e.prototype,"flWidth",void 0),r([c({tooltip:"\u626b\u5149\u6548\u679c\u989c\u8272",visible:function(){return this.flowLightUse}})],e.prototype,"flColor",void 0),r([c({tooltip:"\u6587\u5b57\u989c\u8272\nNone 0\uff1a\u5355\u8272\uff0c\u4f7f\u7528\u8282\u70b9color\nOneColor 1\uff1a\u5355\u8272\uff0c\u4f7f\u7528color1\nTwoColor 2\uff1a\u6e10\u53d8\u8272-\u53cc\u8272\nTriColor 3\uff1a\u6e10\u53d8\u8272-\u4e09\u8272",type:cc.Enum(h)})],e.prototype,"gradient",void 0),r([c({visible:function(){return this.gradient>h.None}})],e.prototype,"color1",void 0),r([c({visible:function(){return this.gradient>h.OneColor}})],e.prototype,"color2",void 0),r([c({visible:function(){return this.gradient>h.TwoColor}})],e.prototype,"color3",void 0),r([c({tooltip:"\u5916\u53d1\u5149\uff0c\u5916\u53d1\u5149\u8f83\u8017\u6027\u80fd\nNone 0\uff1a\u4e0d\u4f7f\u7528\nLowp 1\uff1a\u4f4e\u7cbe\u5ea6\uff08\u5efa\u8bae\uff09\nMediump 2: \u4e2d\u7b49\u7cbe\u5ea6\nHighp 3\uff1a\u9ad8\u7cbe\u5ea6",type:cc.Enum(d)})],e.prototype,"glow",void 0),r([c({tooltip:"\u5916\u53d1\u5149\u5bbd\u5ea6\uff08\u50cf\u7d20\uff09",min:1,visible:function(){return this.glow>d.None}})],e.prototype,"glowWidth",void 0),r([c({tooltip:"\u5916\u53d1\u5149\u989c\u8272\u6df1\u5ea6",min:1,max:32,visible:function(){return this.glow>d.None}})],e.prototype,"glowDepth",void 0),r([c({tooltip:"\u5916\u53d1\u5149\u989c\u8272",visible:function(){return this.glow>d.None}})],e.prototype,"glowColor",void 0),r([s,l(cc.Label),u(),p()],e)}(cc.Component);o.default=f,cc._RF.pop()},{}],LabelTime:[function(t,e,o){"use strict";cc._RF.push(e,"ed05ae5zYVPhan82fXSKDe2","LabelTime");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=(a.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.countDown=1e3,e.dayFormat="{0} day",e.timeFormat="{0}:{1}:{2}",e.zeroize=!0,e.secondHandler=null,e.completeHandler=null,e}return n(e,t),e.prototype.replace=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return t.replace(/\{(\d+)\}/g,function(t,o){return e[o]})},e.prototype.format=function(){var t=this.countDown,e=Math.floor(t/86400);t-=86400*e;var o=Math.floor(t/3600);t-=3600*o;var i=Math.floor(t/60),n=t-=60*i;if(this.dateDisable=this.dateDisable||!1,0==e&&0==o&&0==i&&0==n)this.zeroize?this.result=this.replace(this.timeFormat,"00","00","00"):this.result=this.replace(this.timeFormat,"0","0","0");else if(e>0&&!this.dateDisable){var r=this.dayFormat,a=r.indexOf("{1}");0==o&&a>-1&&(r=r.substring(0,a-1));var s=r;e>1&&r.indexOf("days")<0&&(s=s.replace("day","days")),e<2&&(s=s.replace("days","day")),this.result=this.replace(s,e,o)}else o+=24*e,this.zeroize?this.result=this.replace(this.timeFormat,this.coverString(o),this.coverString(i),this.coverString(n)):this.result=this.replace(this.timeFormat,o,i,n);this.string=this.result},e.prototype.coverString=function(t){return t<10?"0"+t:t.toString()},e.prototype.setDateDisable=function(t){this.dateDisable=t},e.prototype.setTime=function(t,e,o){this.countDown=t,this.timing_end(),this.completeHandler=e,this.secondHandler=o,this.timing_start()},e.prototype.onScheduleSecond=function(){this.countDown--,this.format(),this.secondHandler&&this.secondHandler(this.countDown),0==this.countDown&&this.onScheduleComplete()},e.prototype.onScheduleComplete=function(){this.completeHandler&&this.completeHandler(),this.timing_end()},e.prototype.timing_start=function(){this.schedule(this.onScheduleSecond,1),this.format()},e.prototype.timing_end=function(){this.completeHandler=null,this.secondHandler=null,this.unscheduleAllCallbacks(),this.format()},r([c({tooltip:"\u5230\u8ba1\u65f6\u95f4\u603b\u65f6\u95f4\uff08\u5355\u4f4d\u79d2\uff09"})],e.prototype,"countDown",void 0),r([c({tooltip:"\u5929\u6570\u6570\u636e\u683c\u5f0f\u5316"})],e.prototype,"dayFormat",void 0),r([c({tooltip:"\u65f6\u95f4\u683c\u5f0f\u5316"})],e.prototype,"timeFormat",void 0),r([c({tooltip:"\u662f\u5426\u670900"})],e.prototype,"zeroize",void 0),r([s],e)}(cc.Label));o.default=l,cc._RF.pop()},{}],LanguageLabel:[function(t,e,o){"use strict";cc._RF.push(e,"5f1c2gbe7ZLgYMefdfSk43W","LanguageLabel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LanguageLabel=void 0;var a=t("./LanguageManager"),s=cc._decorator,c=s.ccclass,l=s.property,u=(s.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.key="",e.bundleName=null,e}return n(e,t),e.prototype.setBundle=function(t){this.bundleName=t},e.prototype.getBundle=function(){return this.bundleName},e.prototype.getString=function(){return a.LanguageManager.getInstance().getDstStr(this.key,this.bundleName)},e.prototype.onLoad=function(){this.node.getComponent(cc.Label)||this.node.getComponent(cc.RichText)?this.updateLabel():cc.error(this.node.name,this.key)},e.prototype.updateLabel=function(){do{if(!this.key||""==this.key)break;var t=this.node.getComponent(cc.Label);if(!t&&!(t=this.node.getComponent(cc.RichText))){cc.warn("[LanguageLabel], \u8be5\u8282\u70b9\u6ca1\u6709cc.Label || cc.RichText\u7ec4\u4ef6");break}t.string=this.getString()}while(0)},r([l({tooltip:"\u591a\u8bed\u8a00\u952e\u503c"})],e.prototype,"key",void 0),r([c],e)}(cc.Component));o.LanguageLabel=u,cc._RF.pop()},{"./LanguageManager":"LanguageManager"}],LanguageManager:[function(t,e,o){"use strict";cc._RF.push(e,"230a5JK0bdHjZubDZdpKE95","LanguageManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.LanguageManager=o.LanguageType=void 0;var i,n=t("../loader/ResLoader"),r=t("../log/Loger");(function(t){t.ZH="zh",t.EN="en",t.JA="ja",t.KO="ko",t.TH="th",t.VI="vi",t.PT="pt",t.ID="id",t.ES="es",t.RU="ru",t.DE="de",t.SV="sv",t.IT="it",t.DA="da",t.NL="nl",t.FI="fi",t.FR="fr",t.NO="no",t.PL="pl",t.RO="ro",t.TR="tr",t.MY="my"})(i=o.LanguageType||(o.LanguageType={}));var a=function(){function t(){this._support=["zh"],this._curLangType=i.ZH,this._languageData=new Map}return t.getInstance=function(){return this._instance?this._instance:(this._instance=new t,this._instance)},t.prototype.initLangConf=function(t,e){this._curLangType=t,this._support=e},t.prototype.isExist=function(t){return console.log(this._support),this._support.indexOf(t)>-1},t.prototype.switchLang=function(t,e,o){if(!this.isExist(t))return cc.warn("switchLang fail: "+t+" error!"),void(o&&o(!1));t!==this._curLangType?this.loadLanguageAssets(t,e,o):o&&o(!0)},t.prototype.getDstStr=function(t,e){return this._languageData.get(e)[t]},t.prototype.getCurLang=function(){return this._curLangType},t.prototype.loadLanguageAssets=function(t,e,o){var i=this;n.default.load("configs/language/"+t,cc.JsonAsset,e).then(function(n){n&&n.json?(r.Loger.logConfig("\u5f53\u524d\u8bed\u8a00\u4e3a\u3010"+t+"\u3011"),i._curLangType=t,i._languageData.set(e,n.json)):cc.warn("\u6ca1\u6709\u627e\u5230\u6307\u5b9a\u8bed\u8a00\u5185\u5bb9\u914d\u7f6e",t),o&&o(t)})},t}();o.LanguageManager=a,cc._RF.pop()},{"../loader/ResLoader":"ResLoader","../log/Loger":"Loger"}],LanguageSprite:[function(t,e,o){"use strict";cc._RF.push(e,"dd9c1S8DBFPGIBWpmauaef+","LanguageSprite");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LanguageSprite=o.LangSpPraams=void 0;var a=t("../loader/ResLoader"),s=t("./LanguageManager"),c=cc._decorator,l=c.ccclass,u=c.property,p=c.disallowMultiple,h=function(){function t(){this.language="",this.scale=1,this.pos=new cc.Vec2(0,0)}return r([u({tooltip:"\u8bed\u8a00"})],t.prototype,"language",void 0),r([u({tooltip:"\u7f29\u653e"})],t.prototype,"scale",void 0),r([u({type:cc.Vec2,tooltip:"\u4f4d\u7f6e"})],t.prototype,"pos",void 0),r([l("LangSpPraams")],t)}();o.LangSpPraams=h;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isAtlasType=!1,e.path="",e.atlasPath="",e.spriteFrame="",e.onlyInLanguages=[],e.params=[],e.bundleName=null,e}return n(e,t),e.prototype.setBundle=function(t){this.bundleName=t},e.prototype.getBundle=function(){return this.bundleName},e.prototype.onLoad=function(){this.updateSprite()},e.prototype.updateSprite=function(){var t=this,e=this.node.getComponent(cc.Sprite);if(e){var o=s.LanguageManager.getInstance().getCurLang();if(this.onlyInLanguages.length>0&&(this.onlyInLanguages.includes(o)||(o=s.LanguageType.EN)),t.isAtlasType){if(""===t.atlasPath||""===t.spriteFrame)return;var i=t.atlasPath.replace(new RegExp("&","g"),o);a.default.load(i,cc.SpriteAtlas,t.bundleName).then(function(o){var i=o.getSpriteFrame(t.spriteFrame);e.spriteFrame=i})}else{if(""===t.path)return;i=t.path.replace(new RegExp("&","g"),o),a.default.load(i,cc.SpriteFrame,t.bundleName).then(function(t){e.spriteFrame=t})}if(0!=this.params.length){var n=this.params.find(function(t){return t.language==o});n&&(this.node.scale=n.scale,this.node.setPosition(n.pos))}}},r([u({tooltip:"\u662f\u5426\u4e3a\u56fe\u96c6\u4e0b\u8d34\u56fe"})],e.prototype,"isAtlasType",void 0),r([u({tooltip:"\u8d34\u56fe\u5730\u5740,\u591a\u8bed\u8a00\u5730\u5740\u7528\u3010&\u3011\u8868\u793a",visible:function(){return!this.isAtlasType}})],e.prototype,"path",void 0),r([u({tooltip:"\u56fe\u96c6\u5730\u5740,\u591a\u8bed\u8a00\u5730\u5740\u7528\u3010&\u3011\u8868\u793a",visible:function(){return this.isAtlasType}})],e.prototype,"atlasPath",void 0),r([u({tooltip:"Atlas\u4e2d\u8d34\u56fe\u8d44\u6e90spriteFrame\u540d\u79f0",visible:function(){return this.isAtlasType}})],e.prototype,"spriteFrame",void 0),r([u({tooltip:"\u5982\u679c\u53ea\u6709\u90e8\u5206\u8bed\u8a00\u542b\u6709\u8d44\u6e90\uff0c\u5219\u586b\u5199\u542b\u8d44\u6e90\u7684\u8bed\u8a00\uff0c\u5f53\u8fd0\u884c\u73af\u5883\u7684\u8bed\u8a00\u6ca1\u6709\u8d44\u6e90\u65f6\u7528\u82f1\u6587\u8d44\u6e90\u4ee3\u66ff\uff0c\u5982\u679c\u4e0d\u586b\u5219\u4f1a\u52a0\u8f7d\u8fd0\u884c\u73af\u5883\u7684\u8d44\u6e90",type:cc.String})],e.prototype,"onlyInLanguages",void 0),r([u({type:h,tooltip:"\u591a\u8bed\u8a00\u914d\u7f6e"})],e.prototype,"params",void 0),r([l,p],e)}(cc.Component);o.LanguageSprite=d,cc._RF.pop()},{"../loader/ResLoader":"ResLoader","./LanguageManager":"LanguageManager"}],LayerDialog:[function(t,e,o){"use strict";cc._RF.push(e,"d1a88RKo7tLQ6lM0rc4JhL6","LayerDialog");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LayerDialog=void 0;var r=t("./Defines"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.queue=[],e.queue_params=[],e}return n(e,t),e.prototype.add=function(t,e,o){var i=this;this.black.enabled=t.isTouch;var n=t.prefab,a=this.getUuid(n),s=this.ui_nodes.get(a);if(null==s){(s=new r.ViewParams).uuid=this.getUuid(n),s.prefabPath=n,s.UIConfig=t,void 0===o&&(o=o={}),s.callbacks=o;var c=s.callbacks.onClose;s.callbacks.onClose=function(t,e){c&&c(t,e),setTimeout(function(){i.next()},0)},s.valid=!0,this.ui_nodes.set(s.uuid,s)}return this.current&&this.current.valid?(this.queue.push(s),this.queue_params.push(e||{})):(s.params=e||{},this.current=s,this.load(s)),a},e.prototype.setBlackDisable=function(){0==this.queue.length&&(this.black.enabled=!1)},e.prototype.next=function(){this.queue.length>0&&(this.current=this.queue.shift(),this.current.params=this.queue_params.shift(),this.current.node?this.createNode(this.current):this.load(this.current))},e}(t("./LayerPopUp").LayerPopUp);o.LayerDialog=a,cc._RF.pop()},{"./Defines":"Defines","./LayerPopUp":"LayerPopUp"}],LayerPopUp:[function(t,e,o){"use strict";cc._RF.push(e,"284efupRFhBqYiFmem4bm7a","LayerPopUp");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LayerPopUp=void 0;var r=function(t){function e(e){var o=t.call(this,e)||this;return o.init(),o}return n(e,t),e.prototype.init=function(){this.black=this.addComponent(cc.BlockInputEvents),this.black.enabled=!1},e.prototype.add=function(e,o,i){return this.black.enabled=e.isTouch,t.prototype.add.call(this,e,o,i)},e.prototype.remove=function(e,o){t.prototype.remove.call(this,e,o),this.setBlackDisable()},e.prototype.removeByUuid=function(e){t.prototype.removeByUuid.call(this,e),this.setBlackDisable()},e.prototype.setBlackDisable=function(){this.black.enabled=!1},e.prototype.clearNodes=function(e){t.prototype.clearNodes.call(this,e),this.black.enabled=!1,this.active=!1},e}(t("./LayerUI").LayerUI);o.LayerPopUp=r,cc._RF.pop()},{"./LayerUI":"LayerUI"}],LayerToast:[function(t,e,o){"use strict";cc._RF.push(e,"1b65fvOY15MVofnqQdILyps","LayerToast");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LayerToast=void 0;var r=t("../../component/model/ToastModel"),a=t("../loader/ResLoader"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.show=function(t,e){var o=this,i=this.getChildByName("Toast");i?i.getComponent(r.default).show(e):a.default.load(t.prefab,cc.Prefab,t.bundle).then(function(t){var i=cc.instantiate(t);o.addChild(i),i.name="Toast",i.getComponent(r.default).show(e)})},e}(t("./LayerUI").LayerUI);o.LayerToast=s,cc._RF.pop()},{"../../component/model/ToastModel":"ToastModel","../loader/ResLoader":"ResLoader","./LayerUI":"LayerUI"}],LayerUI:[function(t,e,o){"use strict";cc._RF.push(e,"c6274LNINtOEoxMiajsE66P","LayerUI");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LayerUI=void 0;var r=t("../loader/ResLoader"),a=t("./Defines"),s=t("./DelegateComponent"),c=function(t){function e(e){var o=t.call(this,e)||this;o.ui_nodes=new Map,o.ui_cache=new Map;var i=o.addComponent(cc.Widget);return i.isAlignLeft=i.isAlignRight=i.isAlignTop=i.isAlignBottom=!0,i.left=i.right=i.top=i.bottom=0,i.enabled=!0,o}return n(e,t),e.prototype.getUuid=function(t){return(this.name+"_"+t).replace(/\//g,"_")},e.prototype.add=function(t,e,o){var i=t.prefab,n=this.getUuid(i),r=this.ui_nodes.get(n);return r&&r.valid?(cc.warn("\u8def\u5f84\u4e3a\u3010"+i+"\u3011\u7684\u9884\u5236\u91cd\u590d\u52a0\u8f7d"),""):(null==r&&((r=new a.ViewParams).uuid=n,r.prefabPath=i,this.ui_nodes.set(r.uuid,r)),void 0===e&&(e={}),void 0===o&&(o={}),r.params=e,r.callbacks=o,r.valid=!0,r.UIConfig=t,this.load(r),n)},e.prototype.load=function(t){var e=this,o=this.ui_nodes.get(t.uuid);o&&o.node?this.createNode(o):r.default.load(t.prefabPath,cc.Prefab,t.UIConfig.bundle).then(function(o){var i=cc.instantiate(o);t.node=i,i.addComponent(s.DelegateComponent).viewParams=t,e.createNode(t)})},e.prototype.createNode=function(t){return t.valid=!0,this.addChild(t.node),t.node.getComponent(s.DelegateComponent).add(),t.node},e.prototype.remove=function(t,e){e&&this.removeCache(t);for(var o=this.__nodes(),i=0;i<o.length;i++){var n=o[i].viewParams;n.prefabPath===t&&(e?this.ui_nodes.delete(n.uuid):this.ui_cache.set(n.prefabPath,n),o[i].remove(e),n.valid=!1)}},e.prototype.removeByUuid=function(t){var e=this.ui_nodes.get(t);e&&(e.UIConfig.isDestroy&&this.ui_nodes.delete(e.uuid),e.node.getComponent(s.DelegateComponent).remove(e.UIConfig.isDestroy))},e.prototype.removeCache=function(t){var e=this.ui_cache.get(t);e&&(e.node.getComponent(s.DelegateComponent).remove(!0),this.ui_nodes.delete(e.uuid),this.ui_cache.delete(t))},e.prototype.getByUuid=function(t){for(var e=0,o=this.__nodes();e<o.length;e++){var i=o[e];if(i.viewParams&&i.viewParams.uuid===t)return i.node}return null},e.prototype.get=function(t){for(var e=[],o=0,i=this.__nodes();o<i.length;o++){var n=i[o];n.viewParams.prefabPath===t&&e.push(n.node)}return e},e.prototype.has=function(t){for(var e=0,o=this.__nodes();e<o.length;e++){var i=o[e];if(i.viewParams.uuid===t||i.viewParams.prefabPath===t)return!0}return!1},e.prototype.find=function(t){for(var e=[],o=0,i=this.__nodes();o<i.length;o++){var n=i[o];t.test(n.viewParams.prefabPath)&&e.push(n.node)}return e},e.prototype.__nodes=function(){for(var t=[],e=this.children,o=0;o<e.length;o++){var i=e[o].getComponent(s.DelegateComponent);i&&i.viewParams&&i.viewParams.valid&&cc.isValid(i)&&t.push(i)}return t},e.prototype.size=function(){return this.children.length},e.prototype.clearNodes=function(t){var e=this;this.ui_nodes.forEach(function(t){e.removeByUuid(t.uuid),t.valid=!1}),this.ui_nodes.clear(),t&&this.ui_cache.forEach(function(t,o){e.removeCache(o)})},e}(cc.Node);o.LayerUI=c,cc._RF.pop()},{"../loader/ResLoader":"ResLoader","./Defines":"Defines","./DelegateComponent":"DelegateComponent"}],Layout:[function(t,e,o){"use strict";cc._RF.push(e,"be9beXa0WdP1olwakVi4Ceq","Layout"),Object.defineProperty(o,"__esModule",{value:!0}),o.Layout=void 0;var i=t("../../global/Global"),n=function(){function t(){}return Object.defineProperty(t,"isLandscape",{get:function(){var t=cc.view.getCanvasSize();return cc.sys.isMobile&&(t=cc.winSize),t.width>=t.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"canvasW",{get:function(){return this._designCanvasW},set:function(t){this._designCanvasW=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"canvasH",{get:function(){return this._designCanvasH},set:function(t){this._designCanvasH=t},enumerable:!1,configurable:!0}),t.setNodeResolutionSize=function(t){var e=i.default.getInstance().getGameConfig().canvas;e||(e={width:1920,height:1080}),t.setScale(e.width/1920,e.height/1080)},t.setHorizontalLayout=function(t,e,o,i,n){void 0===e&&(e=0),void 0===i&&(i=cc.Layout.HorizontalDirection.LEFT_TO_RIGHT),void 0===n&&(n=cc.Layout.ResizeMode.CONTAINER);for(var r=0;r<t.children.length;r++){t.children[r].setPosition(0,0),t.children[0]&&(t.height="number"==typeof o?o:t.children[0].height);var a=t.getComponent(cc.Layout)||t.addComponent(cc.Layout);a.type=cc.Layout.Type.HORIZONTAL,a.resizeMode=n,a.spacingX=e,a.horizontalDirection=i,a.updateLayout()}},t.setVerticalLayout=function(t,e,o,i,n){void 0===e&&(e=0),void 0===i&&(i=cc.Layout.VerticalDirection.TOP_TO_BOTTOM),void 0===n&&(n=cc.Layout.ResizeMode.CONTAINER);for(var r=0;r<t.children.length;r++)t.children[r].setPosition(0,0);t.children[0]&&(t.width="number"==typeof o?o:t.children[0].width);var a=t.getComponent(cc.Layout)||t.addComponent(cc.Layout);a.type=cc.Layout.Type.VERTICAL,a.resizeMode=n,a.spacingY=e,a.horizontalDirection=i,a.updateLayout()},t.setLayout=function(e,o){if(o){var i=t.isLandscape?o.landscape:o.portrait;i||(i=o);var n=e.getComponent(cc.Layout)||e.addComponent(cc.Layout);if(n){for(var r=0;r<e.children.length;r++)e.children[r].x=e.children[r].y=0;i.spacingX&&t.setHorizontalLayout(e,i.spacingX),i.spacingY&&t.setVerticalLayout(e,i.spacingY),n.updateLayout()}}},t.setWidget=function(e,o,i){if(o){var n=t.isLandscape?o.landscape:o.portrait;n||(n=o);var r=e.getComponent(cc.Widget)||e.addComponent(cc.Widget);for(var a in i&&(r.target=i),r.alignMode=cc.Widget.AlignMode.ON_WINDOW_RESIZE,t.openWidgetProperty(r,n),n)null!=r[a]&&null!=n[a]&&(r[a]=n[a]);r.updateAlignment()}},t.openWidgetProperty=function(t,e){t.isAbsoluteBottom=void 0===e.isAbsoluteBottom||e.isAbsoluteBottom,t.isAbsoluteLeft=void 0===e.isAbsoluteLeft||e.isAbsoluteLeft,t.isAbsoluteTop=void 0===e.isAbsoluteTop||e.isAbsoluteTop,t.isAbsoluteRight=void 0===e.isAbsoluteRight||e.isAbsoluteRight,t.isAbsoluteVerticalCenter=void 0===e.isAbsoluteVerticalCenter||e.isAbsoluteVerticalCenter,t.isAbsoluteHorizontalCenter=void 0===e.isAbsoluteHorizontalCenter||e.isAbsoluteHorizontalCenter,t.isAlignBottom=null!=e.bottom,t.isAlignLeft=null!=e.left,t.isAlignRight=null!=e.right,t.isAlignTop=null!=e.top,t.isAlignVerticalCenter=null!=e.verticalCenter,t.isAlignHorizontalCenter=null!=e.horizontalCenter},t.scaling=function(t,e){if(!(e=e||t.getComponent(cc.Sprite).spriteFrame))return 0;var o=cc.winSize,i=e.getTexture(),n=i.width/i.height;return n<o.width/o.height?(t.width=o.width,t.height=o.width/n):(t.height=o.height,t.width=o.height*n),t.width/i.width},t.scalingToCoverRectBySize=function(t,e,o){if(void 0===o&&(o=cc.winSize),!(e=e||t.getComponent(cc.Sprite).spriteFrame))return 0;t.getComponent(cc.Sprite).sizeMode=cc.Sprite.SizeMode.CUSTOM;var i=e.getTexture(),n=i.width/i.height;return n<o.width/o.height?(t.width=o.width,t.height=o.width/n):(t.height=o.height,t.width=o.height*n),t.width/i.width},t.scalingToCoverRectByScale=function(t,e,o){if(void 0===o&&(o=cc.winSize),!(e=e||t.getComponent(cc.Sprite).spriteFrame))return 0;var i=e.getTexture(),n=i.width/i.height<o.width/o.height?o.width/i.width:o.height/i.height;return t.setScale(n),n},t.getDesignResolutionScale=function(){var e=window.innerWidth,o=window.innerHeight,i=16/9,n=e/o,r=e>=o,a=1;if(r?(t.canvasW,t.canvasH):(n=o/e,i=40/27,t.canvasH,t.canvasW),n<=20/9&&n>=i){var s=e/o/(t.canvasW/t.canvasH);r||(s=o/e/(t.canvasW/t.canvasH)),a=s}else{var c=20/9/(16/9),l=40/27/(16/9);r?(n<i&&(c=1),a=c):(n>20/9&&(l=20/9/(16/9)),a=l)}return a},t.newGetDesignResolutionScale=function(e){var o=window.innerWidth,i=window.innerHeight,n=10/9,r=o/i,a=o>=i,s=1;if(a?(t.canvasW,t.canvasH):(r=i/o,n=40/27,t.canvasH,t.canvasW),r<=20/9&&r>=n){var c=1;a?(c=o/i/(t.canvasW/t.canvasH),cc.view.setDesignResolutionSize(t.canvasW*c,t.canvasH,cc.ResolutionPolicy.SHOW_ALL)):(s=c=i/o/(t.canvasW/t.canvasH),e.scale=s>1?1:s)}else{var l=2,u=40/27/(16/9);a?(r<n&&(l=1),s=l,cc.view.setDesignResolutionSize(t.canvasW*l,t.canvasH,cc.ResolutionPolicy.SHOW_ALL)):(r>20/9&&(u=2),s=u,e.scale=s>1?1:s)}},t.setNodeScaleByDesign=function(){},t._designCanvasW=1920,t._designCanvasH=1080,t}();o.Layout=n,cc._RF.pop()},{"../../global/Global":"Global"}],LoadingModel:[function(t,e,o){"use strict";cc._RF.push(e,"d0952jJH3xDvLRSKSK3n9j9","LoadingModel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../core/loader/ResLoader"),s=t("../../ui/layout/CommonAdapt"),c=t("./BaseView"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.horBgSpriteFrame=null,e.verBgSpriteFrame=null,e.bundleName="",e}return n(e,t),e.prototype.load=function(){var t=this;a.default.loadBundle(this.bundleName).then(function(){a.default.load("configs/GameResConfig",cc.JsonAsset,t.bundleName).then(function(e){var o=e.json.resConfig;t.loadProgress(0),t.loadRes(o)})})},e.prototype.loadRes=function(t){var e=this;a.default.loadArrRes(e.bundleName,t,function(t){e.loadProgress(t)},function(){e.loadProgress(1),e.loadCompleteCallBack()})},e.prototype.loadCompleteCallBack=function(){},e.prototype.loadProgress=function(){},e.prototype.layoutLandscape=function(){this.node&&s.default.getInstance().setBgFrame(this.horBgSpriteFrame),t.prototype.layoutLandscape.call(this)},e.prototype.layoutPortrait=function(){this.node&&s.default.getInstance().setBgFrame(this.verBgSpriteFrame),t.prototype.layoutPortrait.call(this)},r([p({type:cc.SpriteFrame,tooltip:"\u6a2a\u5c4f\u4e0b\u6a21\u7cca\u80cc\u666f"})],e.prototype,"horBgSpriteFrame",void 0),r([p({type:cc.SpriteFrame,tooltip:"\u7ad6\u5c4f\u4e0b\u6a21\u7cca\u80cc\u666f"})],e.prototype,"verBgSpriteFrame",void 0),r([u],e)}(c.default);o.default=h,cc._RF.pop()},{"../../core/loader/ResLoader":"ResLoader","../../ui/layout/CommonAdapt":"CommonAdapt","./BaseView":"BaseView"}],Loger:[function(t,e,o){"use strict";var i;cc._RF.push(e,"7e900fSi9RB/alMzvm/cvN/","Loger"),Object.defineProperty(o,"__esModule",{value:!0}),o.Loger=o.LogerType=void 0,function(t){t[t.Net=1]="Net",t[t.Model=2]="Model",t[t.Business=4]="Business",t[t.View=8]="View",t[t.Config=16]="Config",t[t.Trace=32]="Trace"}(i=o.LogerType||(o.LogerType={}));var n={1:"\u7f51\u7edc\u65e5\u5fd7",2:"\u6570\u636e\u65e5\u5fd7",4:"\u4e1a\u52a1\u65e5\u5fd7",8:"\u89c6\u56fe\u65e5\u5fd7",16:"\u914d\u7f6e\u65e5\u5fd7",32:"\u6807\u51c6\u65e5\u5fd7"},r=function(){function t(){}return t.init=function(){this.tags=i.Net|i.Model|i.Business|i.View|i.Config|i.Trace},t.setTags=function(t){void 0===t&&(t=null),t&&(this.tags=t)},t.start=function(t){void 0===t&&(t="Time"),console.time(t)},t.end=function(t){void 0===t&&(t="Time"),console.timeEnd(t)},t.table=function(t){this.isOpen(i.Trace)&&console.table(t)},t.trace=function(t,e){void 0===e&&(e="color:#000000;"),this.isOpen(i.Trace)&&(console.log||cc.log).call(null,"%c%s%s",e,this.getDateString(),t)},t.logNet=function(t,e){this.orange(i.Net,t,e)},t.logModel=function(t,e){this.violet(i.Model,t,e)},t.logBusiness=function(t,e){this.blue(i.Business,t,e)},t.logView=function(t,e){this.green(i.View,t,e)},t.logConfig=function(t,e){this.gray(i.Config,t,e)},t.orange=function(t,e,o){this.print(t,e,"color:#ee7700;",o)},t.violet=function(t,e,o){this.print(t,e,"color:Violet;",o)},t.blue=function(t,e,o){this.print(t,e,"color:#3a5fcd;",o)},t.green=function(t,e,o){this.print(t,e,"color:green;",o)},t.gray=function(t,e,o){this.print(t,e,"color:gray;",o)},t.isOpen=function(t){return 0!=(this.tags&t)},t.print=function(t,e,o,i){if(this.isOpen(t)){var r=console.log||cc.log,a=n[t];i?r.call(null,"%c%s%s%s:%s%o",o,this.getDateString(),"["+a+"]",this.stack(5),i,e):r.call(null,"%c%s%s%s:%o",o,this.getDateString(),"["+a+"]",this.stack(5),e)}},t.stack=function(t){var e=(new Error).stack.split("\n"),o=[];e.forEach(function(t){var e,i=(t=t.substring(7)).split(" ");i.length<2?o.push(i[0]):o.push(((e={})[i[0]]=i[1],e))});var i,n=[],r=[];if(t<o.length-1)for(var a in o[t])if(2==(r=a.split(".")).length)n=r.concat();else{var s=(i=o[t][a]).lastIndexOf("/"),c=i.lastIndexOf(".");if(s>-1&&c>-1){var l=i.substring(s+1,c);n.push(l)}else n.push(i)}return 1==n.length?"["+n[0]+".ts]":2==n.length?"["+n[0]+".ts->"+n[1]+"]":""},t.getDateString=function(){var t=new Date,e=t.getHours().toString(),o="";return o+=(1==e.length?"0"+e:e)+":",o+=(1==(e=t.getMinutes().toString()).length?"0"+e:e)+":",o+=(1==(e=t.getSeconds().toString()).length?"0"+e:e)+":",1==(e=t.getMilliseconds().toString()).length&&(e="00"+e),2==e.length&&(e="0"+e),"["+(o+=e)+"]"},t.tags=0,t}();o.Loger=r,r.init(),cc._RF.pop()},{}],MController:[function(t,e,o){"use strict";cc._RF.push(e,"1f5aav7qpNIUILfl6+N7GtH","MController");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../core/loader/ResLoader"),s=t("./NodeUiConfig"),c=cc._decorator,l=c.ccclass,u=c.property,p=c.disallowMultiple,h=c.executeInEditMode,d=c.executionOrder,f=(c.menu,cc.Enum({0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9})),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.inheritedAttrList={"cc.Node":{x:0,y:0,scaleX:1,scaleY:1,anchorX:.5,anchorY:.5,width:100,height:100,active:!0,opacity:255,color:{r:255,g:255,b:255},angle:0},"cc.Label":{enabled:!0,horizontalAlign:1,verticalAlign:1,overflow:0,fontSize:40},"cc.Widget":{isAlignBottom:!0,isAlignLeft:!0,isAlignRight:!0,isAlignTop:!0,isAlignHorizontalCenter:!1,isAlignVerticalCenter:!1,_isAbsBottom:!0,_isAbsHorizontalCenter:!0,_isAbsLeft:!0,_isAbsRight:!0,_isAbsTop:!0,_isAbsVerticalCenter:!0,top:0,bottom:0,left:0,right:0,horizontalCenter:0,verticalCenter:0,enabled:!0},"cc.Sprite":{enabled:!0,spriteFrame:{}},"cc.Layout":{enabled:!0,type:0,resizeMode:0,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,spacingX:0,spacingY:0,horizontalDirection:0,verticalDirection:1,startAxis:0,affectedByScale:!1},"cc.ScrollView":{enabled:!0,horizontal:!1,vertical:!0,inertia:!0,brake:.75,elastic:!0,bounceDuration:.23},"cc.BoxCollider":{enabled:!0,tag:0,offset:{x:0,y:0},size:{width:100,height:100}},"cc.CircleCollider":{enabled:!0,tag:0,offset:{x:0,y:0},radius:100},"cc.PolygonCollider":{enabled:!0,threshold:1,tag:0,offset:{x:0,y:0},points:[{x:-50,y:-50},{x:50,y:-50},{x:50,y:50},{x:-50,y:50}]}},e._saveConfig=!1,e._stateIndex=0,e}return n(e,t),Object.defineProperty(e.prototype,"saveConfig",{get:function(){return this._saveConfig},set:function(){this.updateConfig(),Editor.info("\u914d\u7f6e\u4fdd\u5b58\u5b8c\u6bd5!")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stateIndex",{get:function(){return this._stateIndex},set:function(t){this._stateIndex!=t&&(this._stateIndex=t,this.updateLayout())},enumerable:!1,configurable:!0}),e.prototype.readChildrenProp=function(t){if(this.readNodeProp(t),t.childrenCount>0)for(var e=0;e<t.childrenCount;e++){var o=t.children[e];this.readNodeProp(o),o.childrenCount>0&&this.readChildrenProp(o)}},e.prototype.readNodeProp=function(t){var e=t.getComponent(s.default);if(e){var o={};for(var i in this.inheritedAttrList){var n=t.getComponent(i);if("cc.Node"==i&&(n=t),n){o[i]={};var r=this.inheritedAttrList[i];for(var a in r)if(null!=n[a])if("spriteFrame"!=a)if("color"==a)n[a].r==r[a].r&&n[a].g==r[a].g&&n[a].b==r[a].b||(o[i][a]={},o[i][a].r=n[a].r,o[i][a].g=n[a].g,o[i][a].b=n[a].b);else if("offset"==a)n[a].x==r[a].x&&n[a].y==r[a].y||(o[i][a]={},o[i][a].x=n[a].x,o[i][a].y=n[a].y);else if("size"==a)n[a].width==r[a].width&&n[a].height==r[a].height||(o[i][a]={},o[i][a].width=n[a].width,o[i][a].height=n[a].height);else if("points"==a){var c=!1,l=n[a];if(n[a].length!=r[a].length)c=!0;else for(var u=0;u<l.length;u++){if(l[u].x!=r[a][u].x||l[u].y!=r[a][u].y){c=!0;break}if(c)for(o[i][a]=[],u=0;u<l.length;u++){var p={};p.x=l[u].x,p.y=l[u].y,o[i][a].push(p)}}}else{if(("width"==a||"height"==a)&&!e.controlSize)continue;n[a]!=r[a]&&(o[i][a]=n[a])}else{if(!e.controlSpriteFrame)continue;if(n[a]){var h={};h.uuid=n[a]._uuid,h.bundle=Editor.remote.assetdb.uuidToUrl(n[a]._uuid),h.bundle=h.bundle.replace("db://assets/",""),h.bundle=h.bundle.substring(0,h.bundle.indexOf("/")),o[i][a]=h}}}}var d=JSON.parse(e.ui_config);d[this._stateIndex]=o,e.ui_config=JSON.stringify(d)}},e.prototype.setChildrenProp=function(t){var e=t.getComponent(s.default),o=this;if(e){var i=JSON.parse(e.ui_config);if(i[this._stateIndex]){var n=i[this._stateIndex];for(var r in o.inheritedAttrList){var a=t.getComponent(r);if("cc.Node"==r){a=t;var c=t.getComponent(cc.Widget);for(var l in c&&t.removeComponent(c),o.inheritedAttrList[r])if("color"!=l){if("active"==l){if(!e.controlActive)continue}else if(("width"==l||"height"==l)&&!e.controlSize)continue;b=n&&null!=n[r]&&null!=n[r][l]?n[r][l]:o.inheritedAttrList[r][l],a[l]!=b&&(a[l]=b)}else{var u;u=n&&null!=n[r]&&null!=n[r][l]?n[r][l]:o.inheritedAttrList[r][l],a[l].r==u.r&&a[l].g==u.g&&a[l].b==u.b||(a[l]=cc.color(u.r,u.g,u.b))}}else if("cc.Widget"!=r){if(!a)continue;for(var p in o.inheritedAttrList[r])if("spriteFrame"==p){if(!e.controlSpriteFrame)continue;if(!n||!n[r])continue;var h,d=n[r][p];if(!d)continue;window.Editor?(h="string"!=typeof d?d.uuid:d,this.isExistFileByUuid(h)&&Editor.Ipc.sendToPanel("scene","scene:set-property",{id:a.uuid,path:"spriteFrame",type:"cc.SpriteFrame",value:{uuid:h},isSubProp:!1})):this.changeSpriteFrame(a,d)}else if("offset"==p){var f;f=n&&null!=n[r]&&null!=n[r][p]?n[r][p]:o.inheritedAttrList[r][p],a[p].x==f.x&&a[p].y==f.y||(a[p]=cc.v2(f.x,f.y))}else if("size"==p){var g;g=n&&null!=n[r]&&null!=n[r][p]?n[r][p]:o.inheritedAttrList[r][p],a[p].width==g.width&&a[p].height==g.height||(a[p]=cc.size(g.width,g.height))}else if("points"==p){var y,_=!1;if((y=n&&null!=n[r]&&null!=n[r][p]?n[r][p]:o.inheritedAttrList[r][p]).length!=a[p].length)_=!0;else for(var m=0;m<y.length;m++)if(a[p][m].x!=y[m].x||a[p][m].y!=y[m].y){_=!0;break}if(_){var v=[];for(m=0;m<y.length;m++)v.push(cc.v2(y[m].x,y[m].y));a[p]=v}}else{var b;b=n&&null!=n[r]&&null!=n[r][p]?n[r][p]:o.inheritedAttrList[r][p],a[p]!=b&&(a[p]=b)}"cc.Layout"==r&&a.enabled&&(window.Editor||a.updateLayout(),this.resetLayoutChildPosition(t))}else null!=n[r]&&this.delaySetWidget(t,n)}}}if(t.childrenCount>0){var C=t.children;for(m=0;m<C.length;m++)this.setChildrenProp(C[m])}},e.prototype.changeSpriteFrame=function(t,e){var o,i;if("string"!=typeof e&&(o=e.uuid,i=e.bundle),o&&i){var n=cc.assetManager.getBundle(i),r=n._config.assetInfos._map[o].path;n&&r&&(t.spriteFrame=null,a.default.load(r,cc.SpriteFrame,i).then(function(e){t.spriteFrame=e}))}},e.prototype.delaySetWidget=function(t,e){var o=this;setTimeout(function(){var i=t.addComponent(cc.Widget);for(var n in i.enabled=!1,o.inheritedAttrList["cc.Widget"]){var r;r=e&&null!=e["cc.Widget"]&&null!=e["cc.Widget"][n]?e["cc.Widget"][n]:o.inheritedAttrList["cc.Widget"][n],i[n]!=r&&(i[n]=r)}i.enabled&&i.updateAlignment()},30)},e.prototype.resetLayoutChildPosition=function(t){var e=t.getComponent(cc.Layout);if(e.type==cc.Layout.Type.HORIZONTAL||e.type==cc.Layout.Type.VERTICAL)for(var o=0;o<t.childrenCount;o++){var i=t.children[o];e.type==cc.Layout.Type.HORIZONTAL?i.y=0:e.type==cc.Layout.Type.VERTICAL&&(i.x=0)}},e.prototype.updateConfig=function(){this.readChildrenProp(this.node)},e.prototype.updateLayout=function(){this.setChildrenProp(this.node)},e.prototype.isExistFileByUuid=function(t){var e,o=Editor.remote.assetdb.uuidToFspath(t);if(!o)return!1;var i=o.lastIndexOf(".");if(-1!=i){var n=o.indexOf("/",i);e=-1!=n?o.substr(0,n):o}return!!e&&Editor.remote.assetdb.existsByPath(e)},r([u({tooltip:"\u7f16\u8f91\u597d\u9875\u9762\u4e4b\u540e\uff0c\u624b\u52a8\u52fe\u9009\u4e00\u4e0b\u4fdd\u5b58\u914d\u7f6e\uff0c\u4fdd\u5b58\u5b8c\u6bd5\u4f1a\u81ea\u52a8\u53d6\u6d88\u52fe\u9009"})],e.prototype,"saveConfig",null),r([u],e.prototype,"_stateIndex",void 0),r([u({type:f,tooltip:"\u9009\u62e9\u63a7\u5236\u5668ID"})],e.prototype,"stateIndex",null),r([l,p(),h(),d(-1)],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../core/loader/ResLoader":"ResLoader","./NodeUiConfig":"NodeUiConfig"}],MainLayout:[function(t,e,o){"use strict";cc._RF.push(e,"7b734a2c1BNzJRs5fGxDvxV","MainLayout");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../component/model/BaseView"),s=t("../../global/Constant"),c=t("../../global/Global"),l=t("../../ui/layout/Layout"),u=cc._decorator,p=u.ccclass,h=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defalutDisCanvasW=1920,e.defalutDisCanvasH=1080,e.orientationMode=s.Orientation.Auto,e}return n(e,t),e.prototype.onLoad=function(){var t=this.defalutDisCanvasW,e=this.defalutDisCanvasH,o=c.default.getInstance().getGameConfig();o&&(o.canvas&&(t=o.canvas.width,e=o.canvas.height),o.orientation&&(this.orientationMode=o.orientation)),l.Layout.canvasW=t,l.Layout.canvasH=e,this.resize()},e.prototype.layout=function(){var t=cc.view.getCanvasSize(),e=t.width>=t.height,o=l.Layout.getDesignResolutionScale();switch(this.orientationMode){case s.Orientation.Auto:e?cc.view.setDesignResolutionSize(l.Layout.canvasW,l.Layout.canvasH,cc.ResolutionPolicy.SHOW_ALL):cc.view.setDesignResolutionSize(l.Layout.canvasH,l.Layout.canvasW,cc.ResolutionPolicy.SHOW_ALL);break;case s.Orientation.Portrait:case s.Orientation.Landscape:cc.view.setDesignResolutionSize(l.Layout.canvasW,l.Layout.canvasH,cc.ResolutionPolicy.SHOW_ALL);break;default:e?cc.view.setDesignResolutionSize(l.Layout.canvasW*o,l.Layout.canvasH,cc.ResolutionPolicy.SHOW_ALL):cc.view.setDesignResolutionSize(l.Layout.canvasH,l.Layout.canvasW*o,cc.ResolutionPolicy.SHOW_ALL)}l.Layout.setWidget(this.node,{top:0,bottom:0,left:0,right:0})},r([p],e)}(a.default));o.default=h,cc._RF.pop()},{"../../component/model/BaseView":"BaseView","../../global/Constant":"Constant","../../global/Global":"Global","../../ui/layout/Layout":"Layout"}],MainViewModel:[function(t,e,o){"use strict";cc._RF.push(e,"e7376Ov1BZIiaSPQdCHCrmK","MainViewModel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../ui/layout/CommonAdapt"),s=t("./BaseView"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.horBgSpriteFrame=null,e.verBgSpriteFrame=null,e}return n(e,t),e.prototype.layoutLandscape=function(){this.node&&a.default.getInstance().setBgFrame(this.horBgSpriteFrame),t.prototype.layoutLandscape.call(this)},e.prototype.layoutPortrait=function(){this.node&&a.default.getInstance().setBgFrame(this.verBgSpriteFrame),t.prototype.layoutPortrait.call(this)},r([u({type:cc.SpriteFrame,tooltip:"\u6a2a\u5c4f\u4e0b\u6a21\u7cca\u80cc\u666f"})],e.prototype,"horBgSpriteFrame",void 0),r([u({type:cc.SpriteFrame,tooltip:"\u7ad6\u5c4f\u4e0b\u6a21\u7cca\u80cc\u666f"})],e.prototype,"verBgSpriteFrame",void 0),r([l],e)}(s.default);o.default=p,cc._RF.pop()},{"../../ui/layout/CommonAdapt":"CommonAdapt","./BaseView":"BaseView"}],MathUtil:[function(t,e,o){"use strict";cc._RF.push(e,"a0ebdOEAQlKJ4YaYTs+Fftv","MathUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.getRandom=function(t,e){return Math.random()*(e-t)+t},t.getIntRandom=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),Math.floor(Math.random()*(e-t+1))+t},t.getPseudoRandomInt=function(t,e){return Math.ceil((9301*t+49297)%233280/233280*e)},t.getAngle=function(t,e){return Math.atan((e.y-t.y)/(e.x-t.x))},t.getDistance=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},t.angleToRadian=function(t){return t*Math.PI/180},t.addSafely=function(t,e){var o=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,n=Math.pow(10,Math.max(o,i));return(t*n+e*n)/n},t}();o.default=i,cc._RF.pop()},{}],MessageManager:[function(t,e,o){"use strict";cc._RF.push(e,"9ca8csHzcRGMZC/kFw/4gre","MessageManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.MessageEventData=void 0;var i=function(){},n=function(){function t(){this.events={}}return t.prototype.addEventListener=function(t,e,o){var n=this.events[t];null==n&&(n=[],this.events[t]=n);var a=new i;a.event=t,a.listener=e,a.object=o,n.push(a),r.getInstance().addEventListener(t,e,o)},t.prototype.removeEventListener=function(t){var e=this.events[t];if(e){for(var o=0,i=e;o<i.length;o++){var n=i[o];r.getInstance().removeEventListener(t,n.listener,n.object)}delete this.events[t]}},t.prototype.dispatchEvent=function(t,e){void 0===e&&(e=null),r.getInstance().dispatchEvent(t,e)},t.prototype.clear=function(){for(var t in this.events)this.removeEventListener(t)},t}();o.MessageEventData=n;var r=function(){function t(){this.events={}}return t.getInstance=function(){return t._instance||(t._instance=new t),t._instance},t.prototype.addEventListener=function(t,e,o){if(t&&e){var n=this.events[t];null==n&&(n=[],this.events[t]=n);for(var r=n.length,a=0;a<r;a++){var s=n[a];s.listener==e&&s.object==o&&console.warn("\u540d\u4e3a\u3010"+t+"\u3011\u7684\u4e8b\u4ef6\u91cd\u590d\u6ce8\u518c\u4fa6\u542c\u5668")}var c=new i;c.event=t,c.listener=e,c.object=o,n.push(c)}else console.warn("\u6ce8\u518c\u3010"+t+"\u3011\u4e8b\u4ef6\u7684\u4fa6\u542c\u5668\u51fd\u6570\u4e3a\u7a7a")},t.prototype.addOnceEventListener=function(t,e,o){var i=this,n=function(r,a){i.removeEventListener(t,n,o),n=null,e.call(o,r,a)};this.addEventListener(t,n,o)},t.prototype.removeEventListener=function(t,e,o){var i=this.events[t];if(i){for(var n=i.length,r=0;r<n;r++){var a=i[r];if(a.listener==e&&a.object==o){i.splice(r,1);break}}0==i.length&&delete this.events[t]}else console.log("\u540d\u4e3a\u3010"+t+"\u3011\u7684\u4e8b\u4ef6\u4e0d\u5b58\u5728")},t.prototype.dispatchEvent=function(t,e){void 0===e&&(e=null);var o=this.events[t];if(null!=o)for(var i=o.concat(),n=i.length,r=0;r<n;r++){var a=i[r];a.listener.call(a.object,t,e)}},t._instance=null,t}();o.default=r,cc._RF.pop()},{}],MultiPSRandomRefreshTool:[function(t,e,o){"use strict";cc._RF.push(e,"8f4f7BI0AlMfbjvdpMflTez","MultiPSRandomRefreshTool");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlas=null,e.aniFps=15,e.psNodeNum=5,e.emissionRate=10,e.psIndexArray=[],e.psArray=[],e.count=0,e.spriteArray=[],e}return n(e,t),e.prototype.onLoad=function(){if(this.atlas){this.psArray=this.node.getComponentsInChildren(cc.ParticleSystem),this.spriteArray=this.atlas.getSpriteFrames(),this.count=this.spriteArray.length;var t=Math.round(Math.random()*this.count);for(this.psIndexArray.push(t);this.psArray.length<this.psNodeNum;){var e=cc.instantiate(this.psArray[0].node);e.parent=this.psArray[0].node.parent;var o=Math.round(Math.random()*this.count);this.psIndexArray.push(o),this.psArray.push(e.getComponent(cc.ParticleSystem))}}},e.prototype.onEnable=function(){this.schedule(this.refreshSprite,1/this.aniFps,cc.macro.REPEAT_FOREVER)},e.prototype.onDisable=function(){this.unschedule(this.refreshSprite)},e.prototype.refreshSprite=function(){for(var t=0;t<this.psArray.length;t++){var e=this.psArray[t];this.psIndexArray[t]>=this.count&&(this.psIndexArray[t]=0),e.spriteFrame=this.spriteArray[this.psIndexArray[t]],e.emissionRate=this.emissionRate,e.autoRemoveOnFinish=!1,this.psIndexArray[t]++}},r([c({type:cc.SpriteAtlas,tooltip:"\u56fe\u96c6\u8d44\u6e90"})],e.prototype,"atlas",void 0),r([c({type:cc.Integer,tooltip:"\u6bcf\u79d2\u66ff\u6362\u7c92\u5b50\u8d34\u56fe\u591a\u5c11\u6b21"})],e.prototype,"aniFps",void 0),r([c({tooltip:"ParticleSystem\u8282\u70b9\u603b\u6570\u91cf"})],e.prototype,"psNodeNum",void 0),r([c({tooltip:"\u5355\u7c92\u5b50\u8282\u70b9\u6bcf\u79d2\u53d1\u5c04\u7c92\u5b50\u6570\u76ee"})],e.prototype,"emissionRate",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],NativeMger:[function(t,e,o){"use strict";cc._RF.push(e,"0954cYTEUFHe5wXnkCl4VJn","NativeMger"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../global/Global"),n=t("../utils/DeviceUtil"),r=t("../wx/WxManager"),a=function(){function t(){}return t.vibrateShort=function(t){if(i.default.getInstance().getVibrateShort())return r.default.getInstance().vibrateShort(t),!0},t.onShare=function(t,e,o){if(n.default.isWeChat)return r.default.getInstance().share(t,e,o)},t.openBrowser=function(t){if(n.default.isWeChat)return this.setClipboardData(t);(n.default.isBrowser||n.default.isMobileBrowser||n.default.isDesktopBrowser)&&window.open(t)},t.setClipboardData=function(t){t&&""!=t&&n.default.isWeChat&&r.default.getInstance().setClipboardData(t)},t}();o.default=a,cc._RF.pop()},{"../../global/Global":"Global","../utils/DeviceUtil":"DeviceUtil","../wx/WxManager":"WxManager"}],NodeUiConfig:[function(t,e,o){"use strict";cc._RF.push(e,"ea69fJYB/hD7qPgvODKMonJ","NodeUiConfig");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.controlActive=!0,e.controlSpriteFrame=!0,e.controlSize=!0,e.ui_config="{}",e}return n(e,t),r([c({tooltip:"\u662f\u5426\u8bb0\u5f55node\u8282\u70b9\u7684active\u5c5e\u6027\uff0c\u9ed8\u8ba4\u4e0d\u52fe\u9009\uff0c\u9700\u8981\u63a7\u5236\u624b\u52a8\u52fe\u9009"})],e.prototype,"controlActive",void 0),r([c({tooltip:"\u662f\u5426\u8bb0\u5f55sprite\u7ec4\u4ef6\u7684spriteFrame\u5c5e\u6027\uff0c\u9ed8\u8ba4\u52fe\u9009\uff0c\u9700\u8981\u53e6\u5916\u63a7\u5236(\u4f8b\u5982\u591a\u8bed\u8a00)\u624b\u52a8\u53bb\u9664\u52fe\u9009"})],e.prototype,"controlSpriteFrame",void 0),r([c({tooltip:"\u662f\u5426\u8bb0\u5f55node\u7684size\uff0c\u9ed8\u8ba4\u52fe\u9009\uff0c\u4e0d\u9700\u8981\u63a7\u5236\u624b\u52a8\u53bb\u9664\u52fe\u9009"})],e.prototype,"controlSize",void 0),r([c({tooltip:"\u81ea\u52a8\u751f\u6210\u7684\u914d\u7f6e",readonly:!0})],e.prototype,"ui_config",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],NodeUtil:[function(t,e,o){"use strict";cc._RF.push(e,"46cb1oNJqlMx4cZytJ5BNOd","NodeUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.getRelativePosition=function(t,e){var o=(t.getParent()||t).convertToWorldSpaceAR(t.getPosition());return e.convertToNodeSpaceAR(o)},t.isPosOnNodeRect=function(t,e){return e.getBoundingBoxToWorld().contains(t)},t.areNodesOverlap=function(t,e,o){void 0===o&&(o=!1);var i=t.getBoundingBoxToWorld(),n=e.getBoundingBoxToWorld();return o?i.containsRect(n):i.intersects(n)},t.getNodeSelfBoundingBoxToWorld=function(t){t.parent._updateWorldMatrix();var e=t.getContentSize(),o=e.width,i=e.height,n=t.getAnchorPoint(),r=cc.rect(-n.x*o,-n.y*i,o,i);return t._calculWorldMatrix(),r.transformMat4(r,t._worldMatrix),r},t}();o.default=i,cc._RF.pop()},{}],ObjectUtil:[function(t,e,o){"use strict";cc._RF.push(e,"fb209bzmuJIU4iPE1VFdNwV","ObjectUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},t.deepCopy=function(e){if(null==e||"object"!=typeof e)return e;if(e instanceof Array){for(var o=[],i=0,n=e.length;i<n;i++)o[i]=t.deepCopy(e[i]);return o}if(e instanceof Object){for(var r in o={},e)e.hasOwnProperty(r)&&(o[r]=t.deepCopy(e[r]));return o}return e instanceof Date?(new Date).setTime(e.getTime()):(console.warn("\u4e0d\u652f\u6301\u7684\u7c7b\u578b\uff1a"+e),null)},t.copy=function(t){return JSON.parse(JSON.stringify(t))},t}();o.default=i,cc._RF.pop()},{}],ParticleSystemSpriteFramesRefresh:[function(t,e,o){"use strict";cc._RF.push(e,"80f19BNi4JFLLokTv9yV4NA","ParticleSystemSpriteFramesRefresh");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlas=null,e.aniFps=15,e.ps=null,e.index=0,e.count=0,e.spriteArray=[],e}return n(e,t),e.prototype.onLoad=function(){this.ps||(this.ps=this.node.getComponent(cc.ParticleSystem)),this.spriteArray=this.atlas.getSpriteFrames(),this.count=this.spriteArray.length,this.schedule(this.refreshSprite,1/this.aniFps,cc.macro.REPEAT_FOREVER)},e.prototype.refreshSprite=function(){this.index>=this.count&&(this.index=0),this.ps.spriteFrame=this.spriteArray[this.index],this.index++},r([c({type:cc.SpriteAtlas,tooltip:"\u56fe\u96c6\u8d44\u6e90"})],e.prototype,"atlas",void 0),r([c({type:cc.Integer,tooltip:"\u6bcf\u79d2\u66ff\u6362\u7c92\u5b50\u8d34\u56fe\u591a\u5c11\u6b21"})],e.prototype,"aniFps",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],PoolNodeMger:[function(t,e,o){"use strict";cc._RF.push(e,"352d9vn9GBAIaKtN4+X5sW6","PoolNodeMger"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){this.dictPool={},this.dictPrefab={}}return Object.defineProperty(t,"instance",{get:function(){return this._instance?this._instance:(this._instance=new t,this._instance)},enumerable:!1,configurable:!0}),t.prototype.getNode=function(t,e){var o=t.name;t.position||(o=t.data.name),this.dictPrefab[o]=t;var i=null;if(this.dictPool.hasOwnProperty(o))i=(n=this.dictPool[o]).size()>0?n.get():cc.instantiate(t);else{var n=new cc.NodePool;this.dictPool[o]=n,i=cc.instantiate(t)}return e&&(i.parent=e),i.active=!0,i},t.prototype.putNode=function(t){if(t){var e=t.name,o=null;this.dictPool.hasOwnProperty(e)?o=this.dictPool[e]:(o=new cc.NodePool,this.dictPool[e]=o),o.put(t)}},t.prototype.clearPool=function(t){this.dictPool.hasOwnProperty(t)&&this.dictPool[t].clear()},t}();o.default=i,cc._RF.pop()},{}],PopupModel:[function(t,e,o){"use strict";cc._RF.push(e,"5eb338JJkpGFL99IqU8Tyww","PopupModel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../core/gui/GUI"),s=t("./BaseView"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui_mask=null,e.ui_control=null,e}return n(e,t),e.prototype.onLoad=function(){if(this.ui_mask){var e=this.ui_mask.getComponent(cc.Sprite);e.sizeMode=cc.Sprite.SizeMode.CUSTOM,e.type=cc.Sprite.Type.SLICED,this.ui_mask.setContentSize(cc.view.getVisibleSize())}t.prototype.onLoad.call(this)},e.prototype.closeAni=function(t,e){var o=this;void 0===t&&(t=!0),t&&this.ui_control?cc.tween(this.ui_control).to(.3,{scale:0},{easing:"backIn"}).call(function(){o.closeNode(),e&&e.run(),e=null}).start():this.closeNode()},e.prototype.openAni=function(t,e){void 0===t&&(t=!0),this.node.active=!0,t&&this.ui_control&&(this.ui_control.scale=.01,cc.tween(this.ui_control).to(.3,{scale:1},{easing:"backOut"}).call(function(){e&&e.run(),e=null}).start())},e.prototype.closeNode=function(){a.GUI.getInstance().close(this)},r([u({type:cc.Node,tooltip:"\u906e\u7f69\u8282\u70b9"})],e.prototype,"ui_mask",void 0),r([u({type:cc.Node,tooltip:"\u63a7\u5236\u8282\u70b9"})],e.prototype,"ui_control",void 0),r([l],e)}(s.default);o.default=p,cc._RF.pop()},{"../../core/gui/GUI":"GUI","./BaseView":"BaseView"}],Priority:[function(t,e,o){"use strict";cc._RF.push(e,"62746RERb9MaLhU1kl9v7g+","Priority");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Priority=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.success=function(){t.prototype.success.call(this),this._control.success()},e.prototype.fail=function(){t.prototype.fail.call(this),this._actualTask+=1,this._actualTask<this.children.length?this._run(this._blackboard):this._control.fail()},e}(t("./BranchNode").BranchNode);o.Priority=r,cc._RF.pop()},{"./BranchNode":"BranchNode"}],PromiseUtil:[function(t,e,o){"use strict";cc._RF.push(e,"64be0cwZHRLB6BKeF4elp6t","PromiseUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.sleep=function(t){return new Promise(function(e){return cc.Canvas.instance.scheduleOnce(e,t)})},t}();o.default=i,cc._RF.pop()},{}],RegexUtil:[function(t,e,o){"use strict";cc._RF.push(e,"2e1fauTobVGHqb2V5r0/95T","RegexUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.isDWORD=function(t){return/[^\x00-\xff]/.test(t)},t}();o.default=i,cc._RF.pop()},{}],RenderUtil:[function(t,e,o){"use strict";cc._RF.push(e,"9b9e67p73dHZZeDTbbXVIlO","RenderUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.getRenderTexture=function(t,e){if(!cc.isValid(t))return null;e&&e instanceof cc.RenderTexture||(e=new cc.RenderTexture);var o=Math.floor(t.width),i=Math.floor(t.height);e.initWithSize(o,i);var n=new cc.Node;n.parent=t;var r=n.addComponent(cc.Camera);return r.clearFlags|=cc.Camera.ClearFlags.COLOR,r.backgroundColor=cc.color(0,0,0,0),r.zoomRatio=cc.winSize.height/i,r.targetTexture=e,r.render(t),n.destroy(),e},t.renderWithMaterial=function(t,e,o){e instanceof cc.Material&&(o=e,e=new cc.RenderTexture);var i=new cc.Node;i.setParent(cc.Canvas.instance.node);var n=i.addComponent(cc.Sprite);n.sizeMode=cc.Sprite.SizeMode.RAW,n.trim=!1,n.spriteFrame=new cc.SpriteFrame(t);var r=t.width,a=t.height;e.initWithSize(r,a),o instanceof cc.Material&&n.setMaterial(0,o);var s=new cc.Node;s.setParent(i);var c=s.addComponent(cc.Camera);return c.clearFlags|=cc.Camera.ClearFlags.COLOR,c.backgroundColor=cc.color(0,0,0,0),c.zoomRatio=cc.winSize.height/a,c.targetTexture=e,c.render(i),s.destroy(),i.destroy(),e},t.getPixelsData=function(t,e){if(void 0===e&&(e=!0),!cc.isValid(t))return null;var o=Math.floor(t.width),i=Math.floor(t.height),n=new cc.Node;n.parent=t;var r=n.addComponent(cc.Camera);r.clearFlags|=cc.Camera.ClearFlags.COLOR,r.backgroundColor=cc.color(0,0,0,0),r.zoomRatio=cc.winSize.height/i;var a=new cc.RenderTexture;a.initWithSize(o,i,cc.RenderTexture.DepthStencilFormat.RB_FMT_S8),r.targetTexture=a,r.render(t);var s=a.readPixels();if(a.destroy(),n.destroy(),e){for(var c=s.length,l=4*o,u=new Uint8Array(c),p=0,h=c-l;p<c;p+=l,h-=l)for(var d=0;d<l;d++)u[p+d]=s[h+d];return u}return s},t.flipY=function(t,e){for(var o=t.length,i=new Uint8Array(o),n=0,r=o-e;n<o;n+=e,r-=e)for(var a=0;a<e;a++)i[n+a]=t[r+a];return i},t}();o.default=i,cc._RF.pop()},{}],ResLoader:[function(t,e,o){"use strict";cc._RF.push(e,"aa807xNXllPuJE3KNqcjgrl","ResLoader"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.loadArrRes=function(t,e,o,i){var n=cc.assetManager.getBundle(t);if(!n)return console.error("\u3010"+t+"\u3011subpackage is null");n.load(e,function(t,e){o&&o(t/e)},function(t){if(!t)return i&&i()})},t.loadRes=function(t,e,o,i){var n=cc.assetManager.getBundle(i);if(!n)return o("\u3010"+i+"\u3011subpackage is null");var r=n.get(t,e);r?o(null,r):n.load(t,e,function(t,e){if(t)return o(t);o(null,e)})},t.load=function(t,e,o){var i=this;return new Promise(function(n,r){i.loadRes(t,e,function(t,e){if(t)return console.error(t),void r();n(e)},o)})},t.get=function(t,e,o){return cc.assetManager.getBundle(o).get(t,e)},t.dump=function(){cc.assetManager.assets.forEach(function(t,e){console.log(cc.assetManager.assets.get(e))}),console.log("\u5f53\u524d\u8d44\u6e90\u603b\u6570:"+cc.assetManager.assets.count)},t.loadBundle=function(t){return new Promise(function(e,o){cc.assetManager.loadBundle(t,function(i,n){i&&(console.error("\u5206\u5305\u52a0\u8f7d\u5931\u8d25\u3010"+t+"\u3011"),o()),e(n)})})},t.removeBundle=function(t){return new Promise(function(e){var o=cc.assetManager.getBundle(t);o&&(o.releaseAll(),cc.assetManager.removeBundle(o)),e()})},t.releaseBundle=function(t){return new Promise(function(e){var o=cc.assetManager.getBundle(t);o&&o.releaseAll(),e()})},t.loadRemoteWXImg=function(t){return new Promise(function(e,o){cc.assetManager.loadRemote(t,{ext:".jpg"},function(t,i){if(t)return o();var n=new cc.SpriteFrame;return n.setTexture(i),e(n)})})},t}();o.default=i,cc._RF.pop()},{}],Root:[function(t,e,o){"use strict";cc._RF.push(e,"b5c814r4LFN0r5EQ80/C14r","Root");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../base"),s=t("../component/model/MainLayout"),c=t("../core/event/EventMessage"),l=t("../core/event/MessageManager"),u=t("../core/gui/GUI"),p=t("../core/language/LanguageManager"),h=t("../core/timer/TimerManager"),d=t("../core/utils/ComUtils"),f=t("../core/wx/WxManager"),g=t("../global/Global"),y=cc._decorator,_=y.ccclass,m=(y.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameConfig=null,e.persistRootNode=null,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.onDestroy=function(){},e.prototype.initGui=function(){},e.prototype.init=function(t){if(t){this.gameConfig=t;var e=d.default.getLaunchOptionsSync();g.default.getInstance().setLaunchParams(e),this.persistRootNode=new cc.Node("PersistRootNode"),cc.game.addPersistRootNode(this.persistRootNode),g.default.getInstance().setGameConfig(this.gameConfig.json),f.default.getInstance().init();var o=this.gameConfig.json.defultLanguage;e.language&&(o=e.language),p.LanguageManager.getInstance().initLangConf(o,this.gameConfig.json.languages),a.base.TimerManager=this.persistRootNode.addComponent(h.TimerManager),u.GUI.getInstance().setRoot(this.node),this.initGui(),this.initMainLayout(),cc.game.on(cc.game.EVENT_SHOW,function(){cc.log("Game.EVENT_SHOW"),a.base.TimerManager.load(),l.default.getInstance().dispatchEvent(c.EventMessage.GAME_ENTER)}),cc.game.on(cc.game.EVENT_HIDE,function(){cc.log("Game.EVENT_HIDE"),a.base.TimerManager.save(),l.default.getInstance().dispatchEvent(c.EventMessage.GAME_EXIT)}),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(t){switch(t.keyCode){case cc.macro.KEY.space:l.default.getInstance().dispatchEvent(c.EventMessage.GAME_EXIT)}}.bind(this),this),t.json.webIsScreen&&cc.sys.isBrowser&&cc.sys.isMobile&&(cc.screen.fullScreen&&cc.screen.fullScreen(),cc.screen.autoFullScreen&&cc.screen.autoFullScreen()),window.addEventListener("resize",function(){l.default.getInstance().dispatchEvent(c.EventMessage.GAME_RESIZE)})}else console.error("\u3010GameConfig.json\u3011 No configuration!")},e.prototype.initMainLayout=function(){if(this.node.addComponent(s.default),g.default.getInstance().getGameConfig().isCanvasMask){var t=cc.find("Canvas").getComponent(cc.Mask);t||(t=cc.find("Canvas").addComponent(cc.Mask)),t&&(t.type=cc.Mask.Type.RECT,t.inverted=!1)}},r([_],e)}(cc.Component));o.default=m,cc._RF.pop()},{"../base":"base","../component/model/MainLayout":"MainLayout","../core/event/EventMessage":"EventMessage","../core/event/MessageManager":"MessageManager","../core/gui/GUI":"GUI","../core/language/LanguageManager":"LanguageManager","../core/timer/TimerManager":"TimerManager","../core/utils/ComUtils":"ComUtils","../core/wx/WxManager":"WxManager","../global/Global":"Global"}],Selector:[function(t,e,o){"use strict";cc._RF.push(e,"ef2b8om/4xILowwGTDLZytW","Selector");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Selector=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.success=function(){t.prototype.success.call(this),this._control.success()},e.prototype.fail=function(){t.prototype.fail.call(this),this._actualTask+=1,this._actualTask<this.children.length?this._run(this._blackboard):this._control.fail()},e.prototype._run=function(){this._nodeRunning?this._nodeRunning.run(this._blackboard):t.prototype._run.call(this)},e}(t("./BranchNode").BranchNode);o.Selector=r,cc._RF.pop()},{"./BranchNode":"BranchNode"}],Sequence:[function(t,e,o){"use strict";cc._RF.push(e,"f0f39kY19NM/phlVlfSWXT9","Sequence");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Sequence=void 0;var r=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.success=function(){t.prototype.success.call(this),this._actualTask+=1,this._actualTask<this.children.length?this._run(this._blackboard):this._control.success()},e.prototype.fail=function(){t.prototype.fail.call(this),this._control.fail()},e.prototype._run=function(){this._nodeRunning?this._nodeRunning.run(this._blackboard):t.prototype._run.call(this)},e}(t("./BranchNode").BranchNode);o.Sequence=r,cc._RF.pop()},{"./BranchNode":"BranchNode"}],SoundManager:[function(t,e,o){"use strict";cc._RF.push(e,"395fbG7o25GWLWlWe01ISDj","SoundManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.SoundVO=void 0;var i=t("../loader/ResLoader"),n=function(){this.clip=null,this.clipId=-1,this.maxVolumePercentage=1,this.volume=1,this.path=null,this.bundle=""};o.SoundVO=n;var r=function(){function t(){this.musicVolume=1,this.effectVolume=1,this.effectList=[],this.currentMusic=null,this.musicList=[],this.showHideVolume=1,this.isInit=!1}return t.getInstance=function(){return this._instance?this._instance:(this._instance=new t,this._instance.init(),this._instance)},t.prototype.init=function(){},t.prototype.gameHide=function(){this.showHideVolume=0,this.setHideShowVolume()},t.prototype.gameShow=function(){this.showHideVolume=1,this.setHideShowVolume()},t.prototype.setHideShowVolume=function(){for(var e=this.musicList.length-1;e>=0;e--)(i=this.musicList[e])?i.volume!=t.IGNORE_VOLUME&&cc.audioEngine.setVolume(i.clipId,this.showHideVolume*this.musicVolume*i.maxVolumePercentage*i.volume):this.musicList.splice(e,1);for(var o=this.effectList.length-1;o>=0;o--){var i;(i=this.effectList[o])?i.volume!=t.IGNORE_VOLUME&&cc.audioEngine.setVolume(i.clipId,this.showHideVolume*this.effectVolume*i.maxVolumePercentage):this.effectList.splice(o,1)}},t.prototype.loadLocalVolume=function(t){var e=cc.sys.localStorage.getItem(t?"MusicVolume_"+t:"MusicVolume");null!=e&&null!=e||(e=.5);var o=cc.sys.localStorage.getItem(t?"EffectVolume_"+t:"EffectVolume");null!=o&&null!=o||(o=.5),this.musicVolume=Number(e),this.effectVolume=Number(o)},t.prototype.getMusicVolume=function(){return this.musicVolume},t.prototype.getEffectVolume=function(){return this.effectVolume},t.prototype.setMusicVolume=function(e,o){this.musicVolume=e,cc.sys.localStorage.setItem(o?"MusicVolume_"+o:"MusicVolume",e);for(var i=this.musicList.length-1;i>=0;i--){var n=this.musicList[i];n?n.volume!=t.IGNORE_VOLUME&&cc.audioEngine.setVolume(n.clipId,this.showHideVolume*this.musicVolume*n.maxVolumePercentage*n.volume):this.musicList.splice(i,1)}},t.prototype.setSingleMusicVolume=function(t,e){for(var o=this.musicList.length-1;o>=0;o--){var i=this.musicList[o];if(i&&i.path==t){i.volume=e,cc.audioEngine.setVolume(i.clipId,this.showHideVolume*this.musicVolume*e*i.maxVolumePercentage);break}}},t.prototype.setEffectVolume=function(e,o){this.effectVolume=e,cc.sys.localStorage.setItem(o?"EffectVolume_"+o:"EffectVolume",e);for(var i=this.effectList.length-1;i>=0;i--){var n=this.effectList[i];n?n.volume!=t.IGNORE_VOLUME&&cc.audioEngine.setVolume(n.clipId,this.showHideVolume*this.effectVolume*n.maxVolumePercentage):this.effectList.splice(i,1)}},t.prototype.setSingleEffectVolume=function(t,e){for(var o=this.effectList.length-1;o>=0;o--){var i=this.effectList[o];i&&i.path==t&&(i.volume=e,cc.audioEngine.setVolume(i.clipId,this.showHideVolume*this.effectVolume*e*i.maxVolumePercentage))}},t.prototype.playMusic=function(t,e,o,r,a,s,c){if(void 0===s&&(s=100),void 0===c&&(c=!0),t){console.log("play music : "+t);for(var l=0;l<this.musicList.length;l++)if(this.musicList[l]&&this.musicList[l].path==t)return void cc.audioEngine.resume(this.musicList[l].clipId);c&&this.stopAllMusic();var u=this,p=null;(p=new n).path=t,p.bundle=o,this.musicList.push(p),p.maxVolumePercentage=s/100,u.currentMusic=p,i.default.load(t,cc.AudioClip,o).then(function(o){p&&-2!=p.clipId&&(p.clip=o,p.clipId=cc.audioEngine.play(o,e,u.showHideVolume*u.musicVolume*p.volume*p.maxVolumePercentage),cc.audioEngine.setFinishCallback(p.clipId,function(){cc.audioEngine.stop(p.clipId),u.currentMusic&&u.currentMusic.clipId==p.clipId&&(u.currentMusic=null),r&&r(p)}),a&&a.call(null,t,p))})}},t.prototype.playEffect=function(t,e,o,r,a,s){var c=this;if(void 0===e&&(e=!1),void 0===r&&(r=null),void 0===a&&(a=null),void 0===s&&(s=100),t){var l=new n;l.bundle=o,l.path=t,l.maxVolumePercentage=s/100,this.effectList.push(l);var u=this;i.default.load(t,cc.AudioClip,o).then(function(o){l&&-2!=l.clipId&&(l.clip=o,l.clipId=cc.audioEngine.play(o,e,u.showHideVolume*u.effectVolume*l.volume*l.maxVolumePercentage),cc.audioEngine.setFinishCallback(l.clipId,function(){u.onFinishSound(l.clipId),a&&a.call(c,t,l)}),r&&r.call(c,t,l))})}},t.prototype.onFinishSound=function(t){for(var e=0;e<this.effectList.length;e++){var o=this.effectList[e];if(o&&o.clipId==t){this.effectList.splice(e,1),o=null;break}}},t.prototype.getClipByPath=function(t){for(var e=0;e<=this.musicList.length;e++)if(this.musicList[e]&&this.musicList[e].path==t)return this.musicList[e];var o=[];for(e=0;e<=this.effectList.length;e++)this.effectList[e]&&this.effectList[e].path==t&&o.push(this.effectList[e]);return o.length>0?o:null},t.prototype.pauseMusic=function(t){if(console.log("pause music : "+t),!t&&this.currentMusic&&(t=this.currentMusic.path),t)for(var e=0;e<=this.musicList.length;e++)if(this.musicList[e]&&this.musicList[e].path==t){cc.audioEngine.pause(this.musicList[e].clipId);break}},t.prototype.resumeMusic=function(t){if(t||(this.currentMusic?t=this.currentMusic.path:this.musicList.length>0&&(t=this.musicList[this.musicList.length-1].path)),t)for(var e=0;e<=this.musicList.length;e++)if(this.musicList[e]&&this.musicList[e].path==t){cc.audioEngine.resume(this.musicList[e].clipId);break}},t.prototype.pauseAllMusic=function(){for(var t=0;t<=this.musicList.length;t++)this.musicList[t]&&cc.audioEngine.pause(this.musicList[t].clipId)},t.prototype.resumeAllMusic=function(){for(var t=0;t<=this.musicList.length;t++)this.musicList[t]&&cc.audioEngine.resume(this.musicList[t].clipId)},t.prototype.pauseEffect=function(t){for(var e=0;e<=this.effectList.length;e++)this.effectList[e]&&this.effectList[e].path==t&&cc.audioEngine.pause(this.effectList[e].clipId)},t.prototype.resumeEffect=function(t){for(var e=0;e<=this.effectList.length;e++)this.effectList[e]&&this.effectList[e].path==t&&cc.audioEngine.resume(this.effectList[e].clipId)},t.prototype.pauseAllEffect=function(){for(var t=0;t<=this.effectList.length;t++)this.effectList[t]&&cc.audioEngine.pause(this.effectList[t].clipId)},t.prototype.resumeAllEffect=function(){for(var t=0;t<=this.effectList.length;t++)this.effectList[t]&&cc.audioEngine.resume(this.effectList[t].clipId)},t.prototype.pauseAll=function(){this.pauseAllEffect(),this.pauseAllMusic()},t.prototype.resumeAll=function(){this.resumeAllEffect(),this.resumeAllMusic()},t.prototype.getMusicCurPlayTime=function(t){var e=0;if(!t&&this.currentMusic&&(t=this.currentMusic.path),!t)return e;for(var o=0;o<=this.musicList.length;o++)if(this.musicList[o]&&this.musicList[o].path==t){e=cc.audioEngine.getCurrentTime(this.musicList[o].clipId);break}return e},t.prototype.stopMusic=function(t){if(console.log("stop music : "+t),!t&&this.currentMusic&&(t=this.currentMusic.path),t){for(var e=this.musicList.length-1;e>=0;e--){var o=this.musicList[e];if(o&&o.path==t){cc.audioEngine.stop(o.clipId),this.musicList.splice(e,1),o.clipId=-2,o=null;break}}this.currentMusic&&this.currentMusic.path==t&&(this.currentMusic=null)}},t.prototype.stopAllMusic=function(){for(var t=this.musicList.length-1;t>=0;t--)this.musicList[t]&&(cc.audioEngine.stop(this.musicList[t].clipId),this.musicList[t].clipId=-2,this.musicList[t]=null);this.musicList.length=0,this.currentMusic=null},t.prototype.hasMusicClip=function(t){for(var e=0;e<this.musicList.length;e++)if(this.musicList[e]&&this.musicList[e].path==t)return!0;return!1},t.prototype.stopEffect=function(t){for(var e=this.effectList.length-1;e>=0;e--){var o=this.effectList[e];o&&o.path==t&&(cc.audioEngine.stop(o.clipId),o.clipId=-2,this.effectList.splice(e,1),o=null)}},t.prototype.stopAllEffect=function(){for(var t=0;t<this.effectList.length;t++)this.effectList[t]&&(cc.audioEngine.stop(this.effectList[t].clipId),this.effectList[t].clipId=-2);this.effectList.length=0},t.prototype.setMusicCurrentTime=function(t,e){for(var o=0;o<this.musicList.length;o++){var i=this.musicList[o];if(i&&i.path==t){cc.audioEngine.setCurrentTime(i.clipId,e);break}}},t.prototype.setEffectCurrentTime=function(t,e){for(var o=0;o<this.effectList.length;o++){var i=this.effectList[o];i&&i.path==t&&cc.audioEngine.setCurrentTime(i.clipId,e)}},t.IGNORE_VOLUME=.001,t}();o.default=r,cc._RF.pop()},{"../loader/ResLoader":"ResLoader"}],StorageUtil:[function(t,e,o){"use strict";cc._RF.push(e,"61438ftpzdFgrs81JH55dk7","StorageUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.set=function(t,e){if(null!=t){if(null==e)return console.warn("\u5b58\u50a8\u7684\u503c\u4e3a\u7a7a\uff0c\u5219\u76f4\u63a5\u79fb\u9664\u8be5\u5b58\u50a8"),void this.remove(t);if("function"!=typeof e){if("object"==typeof e)try{e=JSON.stringify(e)}catch(o){return void console.error("\u89e3\u6790\u5931\u8d25\uff0cstr = "+e)}else"number"==typeof e&&(e+="");cc.sys.localStorage.setItem(t,e)}else console.error("\u50a8\u5b58\u7684\u503c\u4e0d\u80fd\u4e3a\u65b9\u6cd5")}else console.error("\u5b58\u50a8\u7684key\u4e0d\u80fd\u4e3a\u7a7a")},t.get=function(t,e){if(void 0===e&&(e=""),null==t)return console.error("\u5b58\u50a8\u7684key\u4e0d\u80fd\u4e3a\u7a7a"),null;var o=cc.sys.localStorage.getItem(t);return null===o?e:o},t.getNumber=function(t,e){void 0===e&&(e=0);var o=this.get(t);return Number(o)||e},t.setBoolean=function(t,e){this.set(t,e?"true":"false")},t.getBoolean=function(t,e){var o=this.get(t);return""==o?e:"true"==o},t.getJson=function(t,e){var o=this.get(t);return o&&JSON.parse(o)||e},t.remove=function(t){null!=t?cc.sys.localStorage.removeItem(t):console.error("\u5b58\u50a8\u7684key\u4e0d\u80fd\u4e3a\u7a7a")},t.clear=function(){cc.sys.localStorage.clear()},t}();o.default=i,cc._RF.pop()},{}],StringUtil:[function(t,e,o){"use strict";cc._RF.push(e,"2b3eahZ0ZtLULZ/qoIQfNUW","StringUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.StringUtil=void 0;var i=function(){function t(){}return t.guid=function(){for(var t="",e=1;e<=32;e++)t+=Math.floor(16*Math.random()).toString(16),8!=e&&12!=e&&16!=e&&20!=e||(t+="-");return t},t.numberTotPermil=function(t){return t.toLocaleString()},t.numberToThousand=function(t,e){if(void 0===e&&(e=2),t<1e3)return t.toString();var o=Math.floor(Math.log(t)/Math.log(1e3));return(t/Math.pow(1e3,o)).toFixed(e)+["","K","M","G"][o]},t.numberToTenThousand=function(t,e){if(void 0===e&&(e=2),t<1e4)return t.toString();var o=Math.floor(Math.log(t)/Math.log(1e4));return(t/Math.pow(1e4,o)).toFixed(e)+["","\u4e07","\u4ebf","\u4e07\u4ebf"][o]},t.format=function(t,e){var o={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?o[i]:("00"+o[i]).substr((""+o[i]).length)));return e},t.stringToArray1=function(t){return""==t?[]:t.split(",")},t.stringToArray2=function(t){return""==t?[]:t.split("|")},t.stringToArray3=function(t){return""==t?[]:t.split(":")},t.stringToArray4=function(t){return""==t?[]:t.split(";")},t.sub=function(t,e,o){void 0===o&&(o=!1);var i=/[^\x00-\xff]/g;if(t.replace(i,"mm").length<=e)return t;for(var n=Math.floor(e/2);n<t.length;n++)if(t.substr(0,n).replace(i,"mm").length>=e)return o?t.substr(0,n)+"...":t.substr(0,n);return t},t.stringLen=function(t){for(var e=0,o=t.length,i=-1,n=0;n<o;n++)e+=(i=t.charCodeAt(n))>=0&&i<=128?1:2;return e},t}();o.StringUtil=i,cc._RF.pop()},{}],Task:[function(t,e,o){"use strict";cc._RF.push(e,"cb3499WYHpOIqN6m7+wmZeE","Task");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Task=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.run=function(){},e}(t("./BTreeNode").BTreeNode);o.Task=r,cc._RF.pop()},{"./BTreeNode":"BTreeNode"}],TestUtil:[function(t,e,o){"use strict";cc._RF.push(e,"498c2WLHLVFsr7+pdYquvHK","TestUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.email=function(t){return/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/.test(t)},t.mobile=function(t){return/^1[3-9]\d{9}$/.test(t)},t.url=function(t){return/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w-.\/?%&=]*)?/.test(t)},t.date=function(t){return!/Invalid|NaN/.test(new Date(t).toString())},t.dateISO=function(t){return/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},t.number=function(t){return/^[\+-]?(\d+\.?\d*|\.\d+|\d\.\d+e\+\d+)$/.test(t)},t.digits=function(t){return/^\d+$/.test(t)},t.idCard=function(t){return/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(t)},t.amount=function(t){return/^[1-9]\d*(,\d{3})*(\.\d{1,2})?$|^0\.\d{1,2}$/.test(t)},t.chinese=function(t){return/^[\u4e00-\u9fa5]+$/gi.test(t)},t.letter=function(t){return/^[a-zA-Z]*$/.test(t)},t.enOrNum=function(t){return/^[0-9a-zA-Z]*$/g.test(t)},t.contains=function(t,e){return t.indexOf(e)>=0},t.landline=function(t){return/^\d{3,4}-\d{7,8}(-\d{3,4})?$/.test(t)},t.empty=function(t){switch(typeof t){case"undefined":return!0;case"string":if(0==t.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"").length)return!0;break;case"boolean":if(!t)return!0;break;case"number":if(0===t||isNaN(t))return!0;break;case"object":if(null===t||0===t.length)return!0;for(var e in t)return!1;return!0}return!1},t.jsonString=function(t){if("string"==typeof t)try{var e=JSON.parse(t);return!("object"!=typeof e||!e)}catch(o){return!1}return!1},t.array=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},t.object=function(t){return"[object Object]"===Object.prototype.toString.call(t)},t}();o.default=i,cc._RF.pop()},{}],TimeUtil:[function(t,e,o){"use strict";cc._RF.push(e,"a3284a/P6ZM24JoE0yfnKIO","TimeUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.getTimestamp=function(){return(new Date).getTime()},t.getDate=function(){return(new Date).toLocaleDateString()},t.getTargetTimestamp=function(t,e,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===o&&(o=0);var i=new Date((new Date).toLocaleDateString()).getTime();return new Date(i+1e3*(3600*t+60*e+o)).getTime()},t.msToHMS=function(t,e,o){void 0===e&&(e=":"),void 0===o&&(o=!0);var i=Math.floor(t/36e5),n=Math.floor((t-36e5*i)/6e4),r=Math.floor((t-36e5*i-6e4*n)/1e3);return(0!==i||o?i.toString().padStart(2,"0")+":":"")+n.toString().padStart(2,"0")+e+r.toString().padStart(2,"0")},t}();o.default=i,cc._RF.pop()},{}],TimerManager:[function(t,e,o){"use strict";cc._RF.push(e,"c7dc7ryItRHtaNe5UAZypZT","TimerManager");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.TimerManager=void 0;var r=t("../utils/StringUtil"),a=t("./Timer"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.times={},e.initTime=(new Date).getTime(),e.serverTime=0,e}return n(e,t),e.prototype.update=function(t){for(var e in this.times){var o=this.times[e];o.timer.update(t)&&o.object[o.field]>0&&(o.object[o.field]--,0==o.object[o.field]?this.onTimerComplete(o):o.onSecond&&o.onSecond.call(o.object))}},e.prototype.onTimerComplete=function(t){t.onComplete&&t.onComplete.call(t.object),t.event&&this.node.dispatchEvent(t.event),delete this.times[t.id]},e.prototype.register=function(t,e,o,i){var n=new a.Timer;n.step=1;var s={};return s.id=r.StringUtil.guid(),s.timer=n,s.object=t,s.field=e,s.onSecond=o,s.onComplete=i,this.times[s.id]=s,s.id},e.prototype.unRegister=function(t){this.times[t]&&delete this.times[t]},e.prototype.setServerTime=function(t){return t&&(this.serverTime=t),this.serverTime},e.prototype.getServerTime=function(){return this.serverTime+this.getTime()},e.prototype.format=function(t,e){var o={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?o[i]:("00"+o[i]).substr((""+o[i]).length)));return t},e.prototype.getTime=function(){return this.getLocalTime()-this.initTime},e.prototype.getLocalTime=function(){return Date.now()},e.prototype.save=function(){for(var t in this.times)this.times[t].startTime=this.getTime()},e.prototype.load=function(){for(var t in this.times){var e=Math.floor((this.getTime()-(this.times[t].startTime||this.getTime()))/1e3),o=this.times[t];o.object[o.field]=o.object[o.field]-e,o.object[o.field]<0&&(o.object[o.field]=0,this.onTimerComplete(o)),this.times[t].startTime=null}},e}(cc.Component);o.TimerManager=s,cc._RF.pop()},{"../utils/StringUtil":"StringUtil","./Timer":"Timer"}],Timer:[function(t,e,o){"use strict";cc._RF.push(e,"1de90D9hd5CJ7d3/DmhhtDN","Timer"),Object.defineProperty(o,"__esModule",{value:!0}),o.Timer=void 0;var i=function(){function t(t){void 0===t&&(t=0),this.callback=null,this._elapsedTime=0,this._step=-1,this.step=t}return Object.defineProperty(t.prototype,"elapsedTime",{get:function(){return this._elapsedTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(t){this._step=t,this._elapsedTime=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progress",{get:function(){return this._elapsedTime/this._step},enumerable:!1,configurable:!0}),t.prototype.update=function(t){return!(this.step<=0)&&(this._elapsedTime+=t,this._elapsedTime>=this._step&&(this._elapsedTime-=this._step,this.callback&&this.callback.call(this),!0))},t.prototype.reset=function(){this._elapsedTime=0},t.prototype.stop=function(){this._elapsedTime=0,this.step=-1},t}();o.Timer=i,cc._RF.pop()},{}],ToastModel:[function(t,e,o){"use strict";cc._RF.push(e,"dba4bTjiBhN5bHr+/rCa8lQ","ToastModel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ToasParams=o.ToastType=void 0;var a,s=t("./BaseView");(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.SUCCESS=1]="SUCCESS",t[t.FAIL=2]="FAIL"})(a=o.ToastType||(o.ToastType={})),o.ToasParams=function(t,e){void 0===e&&(e=a.DEFAULT),this.msg="",this.type=a.DEFAULT,this.msg=t,this.type=e};var c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e}return n(e,t),e.prototype.show=function(t){if(!this.node.getChildByName("ui_layout")){var e=new cc.Node("ui_layout");e.width=cc.view.getFrameSize().width,e.height=cc.view.getFrameSize().height/2,this.node.addChild(e);var o=e.addComponent(cc.Layout);return o.type=cc.Layout.Type.VERTICAL,o.spacingY=15,o.verticalDirection=cc.Layout.VerticalDirection.BOTTOM_TO_TOP,void this.show(t)}var i=this.node.getChildByName("ui_layout").getComponent(cc.Layout),n=cc.instantiate(this.item),r=n.getChildByName("content").getComponent(cc.Label);r.string=t.msg,r._forceUpdateRenderData(!0);var s=cc.Color.WHITE;t.type==a.SUCCESS&&(s=cc.Color.GREEN),t.type==a.FAIL&&(s=cc.Color.RED),r.node.color=s,n.width=r.node.width+60,i.node.addChild(n),n.active=!0,n.scaleY=0,n&&cc.tween(n).to(.2,{scaleY:1},{easing:"cubicInOut"}).call(function(){}).start(),setTimeout(function(){n&&cc.tween(n).to(.5,{opacity:0},{easing:"smooth"}).call(function(){n.destroy()}).start()},2e3)},r([u({type:cc.Node,tooltip:"item"})],e.prototype,"item",void 0),r([l],e)}(s.default);o.default=p,cc._RF.pop()},{"./BaseView":"BaseView"}],TweenUtil:[function(t,e,o){"use strict";cc._RF.push(e,"931431j7JRAnptNQicy6R2g","TweenUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.flip=function(t,e,o,i){return new Promise(function(n){var r=cc.tween,a=e/2,s=t.scale,c=s>0?20:-20;r(t).parallel(r().to(a,{scaleX:0},{easing:"quadIn"}),r().to(a,{skewY:-c},{easing:"quadOut"})).call(function(){o&&o()}).parallel(r().to(a,{scaleX:-s},{easing:"quadOut"}),r().to(a,{skewY:0},{easing:"quadIn"})).call(function(){i&&i(),n()}).start()})},t}();o.default=i,cc._RF.pop()},{}],UIUtil:[function(t,e,o){"use strict";cc._RF.push(e,"a465dFaSQ9AZKK47fDBloeT","UIUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.convetOtherNodeSpaceAR=function(t,e,o){if(void 0===o&&(o=new cc.Vec2(0,0)),!t||!e)return null;var i=this.localConvertWorldPointAR(t,o);return this.worldConvertLocalPointAR(e,i)},t.localConvertWorldPointAR=function(t,e){return t?t.convertToWorldSpaceAR(e):null},t.worldConvertLocalPointAR=function(t,e){return t?t.convertToNodeSpaceAR(e):null},t}();o.default=i,cc._RF.pop()},{}],WaitingModel:[function(t,e,o){"use strict";cc._RF.push(e,"10bcd9q9SdOpqjAf6Exqz1s","WaitingModel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./PopupModel"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),r([c],e)}(a.default));o.default=l,cc._RF.pop()},{"./PopupModel":"PopupModel"}],WxManager:[function(t,e,o){"use strict";cc._RF.push(e,"bbeabn3oCVKk71bvL2dKyQl","WxManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.VideoStatus=void 0;var i,n=t("../../global/Global"),r=t("../event/EventMessage"),a=t("../event/MessageManager");(function(t){t[t.ERROR=100]="ERROR",t[t.CLOSE=101]="CLOSE",t[t.success=102]="success"})(i=o.VideoStatus||(o.VideoStatus={}));var s=function(){function t(){this._wxAdConfig=null,this.bannerAd=null,this.interstitialAd=null,this.customMatrixAd=null,this.customRowGridAd=null,this.customGridAd=null,this.videoAd=null,this.wxclub=null}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.init=function(){this._wxAdConfig=n.default.getInstance().getGameConfig().wxAdConfig,this._wxAdConfig.isAd&&cc.sys.platform==cc.sys.WECHAT_GAME&&this.adInit(),cc.sys.platform==cc.sys.WECHAT_GAME&&(this.initMPShare(),this.updateManager())},t.prototype.vibrateShort=function(t){void 0===t&&(t="medium"),cc.sys.platform==cc.sys.WECHAT_GAME&&wx.vibrateShort({type:t})},t.prototype.wxLogin=function(){var t=this,e=this;return new Promise(function(o,i){cc.sys.platform==cc.sys.WECHAT_GAME?wx.login({success:function(t){o(e.getUserInfo(t.code))},fail:function(t){i(t)}.bind(t)}):i()})},t.prototype.getUserInfo=function(t){var e=this;return new Promise(function(o,i){wx.getUserProfile({lang:"zh_CN",desc:"\u767b\u9646\u9700\u8981\u83b7\u53d6\u60a8\u7684\u5934\u50cf\u4ee5\u53ca\u6635\u79f0",success:function(e){e.code=t,o(e)},fail:function(t){i(t)}.bind(e)})})},t.prototype.updateManager=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){var t=wx.getUpdateManager();t.onCheckForUpdate(function(){}),t.onUpdateReady(function(){wx.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u5373\u5c06\u91cd\u542f\u5e94\u7528!",showCancel:!1,success:function(e){e.confirm&&t.applyUpdate()}})}),t.onUpdateFailed(function(){wx.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u4e0b\u8f7d\u5931\u8d25",showCancel:!1})})}},t.prototype.setClipboardData=function(t){cc.sys.platform==cc.sys.WECHAT_GAME&&wx.setClipboardData({data:t,success:function(){wx.showToast({title:"\u590d\u5236\u6210\u529f\uff01",icon:"success"})}})},t.prototype.setWxCloudRankData=function(t){cc.sys.platform==cc.sys.WECHAT_GAME&&wx.setUserCloudStorage({KVDataList:[{key:"level",value:String(t)}]})},t.prototype.initMPShare=function(){wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"],complete:function(){}}),wx.onShareAppMessage(function(){return{title:n.default.getInstance().getGameConfig().wxConfig.shareTitle,imageUrl:n.default.getInstance().getGameConfig().wxConfig.shareImg}})},t.prototype.share=function(t,e,o){cc.sys.platform==cc.sys.WECHAT_GAME&&wx.shareAppMessage({title:t,imageUrl:o,query:e})},t.prototype.showLoading=function(){wx.showLoading({title:"\u52a0\u8f7d\u4e2d",mask:!0})},t.prototype.hideLoading=function(){wx.hideLoading()},t.prototype.showToast=function(t){wx.showToast({title:t})},t.prototype.showModal=function(t,e,o,i){void 0===e&&(e=!0),wx.showModal({content:t,showCancel:e,success:o,fail:i})},t.prototype.createGameClubButton=function(t,e){cc.sys.platform==cc.sys.WECHAT_GAME&&(this.wxclub?t?this.wxclub.show():this.wxclub.hide():(this.wxclub=wx.createGameClubButton({icon:"green",style:{left:e.left,top:e.top,width:e.width,height:e.height}}),this.createGameClubButton(t)))},t.prototype.adInit=function(){this.createBannerAd(),this.createInterstitialAd(),this.createCustomMatrixAd(),this.createCustomRowGridAd(),this.createCustomGridAd(),this.createCustomGridAd(),this.createVideoAd()},t.prototype.createVideoAd=function(){(this._wxAdConfig.rewardedVideoId||""!=this._wxAdConfig.rewardedVideoId)&&(this.videoAd=wx.createRewardedVideoAd({adUnitId:this._wxAdConfig.rewardedVideoId}),this.videoAd.onError(function(t){console.log("videoAd err==>",t),a.default.getInstance().dispatchEvent(r.EventMessage.GAME_AD_VIDEO_STATUS,i.ERROR)}),this.videoAd.onClose(function(t){var e=t.isEnded?i.success:i.CLOSE;a.default.getInstance().dispatchEvent(r.EventMessage.GAME_AD_VIDEO_STATUS,e)}))},t.prototype.showVideoAd=function(){var t=this;this.videoAd&&(t.showLoading(),this.videoAd.show().then(function(){t.hideLoading()}).catch(function(){t.videoAd.load().then(function(){t.hideLoading(),t.videoAd.show()}).catch(function(){t.hideLoading(),a.default.getInstance().dispatchEvent(r.EventMessage.GAME_AD_VIDEO_STATUS,i.ERROR)})}))},t.prototype.createCustomGridAd=function(){if(this._wxAdConfig.customGridId||""!=this._wxAdConfig.customGridId){var t=wx.getSystemInfoSync();this.customGridAd=wx.createCustomAd({adUnitId:this._wxAdConfig.customGridId,adIntervals:300,style:{left:t.screenWidth-56,top:t.screenHeight-200}}),this.customGridAd.onError(function(t){console.log("customGridAd err==>",t)})}},t.prototype.showCustomGridAd=function(t){this.customGridAd&&(t?this.customGridAd.show():this.customGridAd.hide())},t.prototype.createCustomRowGridAd=function(){if(this._wxAdConfig.customRowGridId||""!=this._wxAdConfig.customRowGridId){var t=wx.getSystemInfoSync(),e=t.screenWidth*(1-.8)/2;this.customRowGridAd=wx.createCustomAd({adUnitId:this._wxAdConfig.customRowGridId,adIntervals:300,style:{left:e,top:t.screenHeight-100}}),this.customRowGridAd.onError(function(t){console.log("customRowGridId err==>",t)})}},t.prototype.showCustomRowGridAd=function(t){this.customRowGridAd&&(t?this.customRowGridAd.show().then(function(){}).catch(function(t){console.log("gridShow1 err==>",t),"no advertisement"==t.errMsg&&a.default.getInstance().dispatchEvent(r.EventMessage.GAME_NO_ADVERTISEMENT)}):this.customRowGridAd.hide())},t.prototype.createCustomMatrixAd=function(){(this._wxAdConfig.customMatrixId||""!=this._wxAdConfig.customMatrixId)&&(this.customMatrixAd=wx.createCustomAd({adUnitId:this._wxAdConfig.customMatrixId,adIntervals:300,style:{left:0,top:120}}),this.customMatrixAd.onError(function(t){console.log("customMatrixId err==>",t)}))},t.prototype.showCustomMatrixAd=function(t){this.customMatrixAd&&(t?this.customMatrixAd.show():this.customMatrixAd.hide())},t.prototype.createBannerAd=function(){if(this._wxAdConfig.bannerId||""!=this._wxAdConfig.bannerId){var t=wx.getSystemInfoSync();this.bannerAd=wx.createBannerAd({adUnitId:this._wxAdConfig.bannerId,adIntervals:60,style:{left:(t.screenWidth-300)/2,top:t.screenHeight-110,width:300}}),this.bannerAd.onError(function(t){console.log("bannerAd err==>",t)})}},t.prototype.showBanner=function(t){this.bannerAd&&(t?this.bannerAd.show():this.bannerAd.hide())},t.prototype.createInterstitialAd=function(){(this._wxAdConfig.interstitialId||""!=this._wxAdConfig.interstitialId)&&(this.interstitialAd=wx.createInterstitialAd({adUnitId:this._wxAdConfig.interstitialId}))},t.prototype.showInterstitial=function(){this.interstitialAd&&this.interstitialAd.show()},t}();o.default=s,cc._RF.pop()},{"../../global/Global":"Global","../event/EventMessage":"EventMessage","../event/MessageManager":"MessageManager"}],base:[function(t,e,o){"use strict";cc._RF.push(e,"a4b817od1lKyZytVmgwY/4r","base"),Object.defineProperty(o,"__esModule",{value:!0}),o.base=void 0;var i=t("./core/manager/NativeMger"),n=t("./core/manager/PoolNodeMger"),r=t("./core/utils/ArrayUtil"),a=t("./core/utils/Base64Util"),s=t("./core/utils/BrowserUtil"),c=t("./core/utils/ColorUtil"),l=t("./core/utils/DeviceUtil"),u=t("./core/utils/GeometryUtil"),p=t("./core/utils/MathUtil"),h=t("./core/utils/NodeUtil"),d=t("./core/utils/ObjectUtil"),f=t("./core/utils/PromiseUtil"),g=t("./core/utils/RegexUtil"),y=t("./core/utils/RenderUtil"),_=t("./core/utils/StorageUtil"),m=t("./core/utils/TestUtil"),v=t("./core/utils/TimeUtil"),b=t("./core/utils/TweenUtil"),C=t("./core/utils/UIUtil"),S=t("./core/manager/Handler"),w=t("./core/utils/StringUtil"),L=t("./component/label/LabelTime"),M=t("./component/label/LabelNumber"),O=t("./component/label/LabelChange"),T=t("./core/collection/Collection"),P=t("./core/behaviorTree/BehaviorTree"),A=t("./core/behaviorTree/BTreeNode"),E=t("./core/behaviorTree/BranchNode"),R=t("./core/behaviorTree/Decorator"),I=t("./core/behaviorTree/Priority"),N=t("./core/behaviorTree/Selector"),U=t("./core/behaviorTree/Task"),F=t("./core/language/LanguageManager"),x=t("./core/language/LanguageLabel"),j=t("./core/language/LanguageSprite"),B=t("./core/log/Loger"),D=t("./global/Global"),k=t("./core/loader/ResLoader"),G=t("./core/gui/GUI"),V=t("./core/gui/Defines"),H=t("./core/gui/DelegateComponent"),z=t("./core/event/EventMessage"),W=t("./core/event/MessageManager"),Z=t("./core/timer/Timer"),q=t("./core/timer/TimerManager"),Y=t("./core/common/AnimationExtend"),J=t("./component/model/ToastModel"),K=t("./component/model/LoadingModel"),X=t("./component/model/WaitingModel"),Q=t("./component/model/PopupModel"),$=t("./component/model/AlertModel"),tt=t("./component/shader/LabelShader"),et=t("./component/model/MainViewModel"),ot=t("./core/wx/WxManager"),it=t("./component/particle/MultiPSRandomRefreshTool"),nt=t("./component/particle/ParticleSystemSpriteFramesRefresh"),rt=t("./ui/layout/GUIView"),at=t("./ui/Root"),st=t("./component/model/BaseView"),ct=t("./global/Constant"),lt=t("./ui/layout/CommonAdapt"),ut=t("./core/utils/ComUtils"),pt=t("./core/manager/SoundManager"),ht=t("./component/gm/GM"),dt=t("./component/model/MainLayout"),ft=t("./component/button/CustomButton"),gt=t("./component/MController/MController"),yt=t("./component/MController/NodeUiConfig"),_t=t("./core/time/ClockTimer"),mt=function(){};o.base=mt,mt.LogerType=B.LogerType,mt.Loger=B.Loger,mt.ResLoader=k.default,mt.Handler=S.default,mt.Global=D.default,mt.ToastType=J.ToastType,mt.ArrayUtil=r.default,mt.UIUtil=C.default,mt.Base64Util=a.default,mt.BrowserUtil=s.default,mt.ColorUtil=c.default,mt.DeviceUtil=l.default,mt.GeometryUtil=u.default,mt.TestUtil=m.default,mt.MathUtil=p.default,mt.NodeUtil=h.default,mt.ObjectUtil=d.default,mt.PromiseUtil=f.default,mt.RegexUtil=g.default,mt.RenderUtil=y.default,mt.StorageUtil=_.default,mt.TimeUtil=v.default,mt.TweenUtil=b.default,mt.PoolNodeMger=n.default,mt.NativeMger=i.default,mt.Root=at.default,mt.LoadingModel=K.default,mt.ToastModel=J.default,mt.WaitingModel=X.default,mt.PopupModel=Q.default,mt.BaseView=st.default,mt.AlertModel=$.default,mt.GUI=G.GUI,mt.GUIView=rt.GUIView,mt.EventMessage=z.EventMessage,mt.MessageManager=W.default,mt.UICallbacks=V.UICallbacks,mt.PopViewParams=V.PopViewParams,mt.ViewParams=V.ViewParams,mt.DelegateComponent=H.DelegateComponent,mt.LayerType=G.LayerType,mt.UIConfig=G.UIConfig,mt.AlertParams=$.AlertParams,mt.Timer=Z.Timer,mt.TimerManager=q.TimerManager,mt.StringUtil=w.StringUtil,mt.LabelTime=L.default,mt.LabelNumber=M.default,mt.LabelChange=O.LabelChange,mt.AnimationExtend=Y.default,mt.AniParam=Y.AniParam,mt.ANIMATION_TYPE=Y.ANIMATION_TYPE,mt.BehaviorTree=P.BehaviorTree,mt.BTreeNode=A.BTreeNode,mt.BranchNode=E.BranchNode,mt.Decorator=R.Decorator,mt.Priority=I.Priority,mt.Selector=N.Selector,mt.Task=U.Task,mt.Collection=T.Collection,mt.LanguageType=F.LanguageType,mt.LanguageLabel=x.LanguageLabel,mt.LanguageSprite=j.LanguageSprite,mt.LanguageManager=F.LanguageManager,mt.ToasParams=J.ToasParams,mt.LabelShader=tt.default,mt.MainViewModel=et.default,mt.WxManager=ot.default,mt.VideoStatus=ot.VideoStatus,mt.MainLayout=dt.default,mt.GAMELOCALNAME=z.GAMELOCALNAME,mt.MultiPSRandomRefreshTool=it.default,mt.ParticleSystemSpriteFramesRefresh=nt.default,mt.UIID=ct.UIID,mt.CommonAdapt=lt.default,mt.ComUtils=ut.default,mt.SoundManager=pt.default,mt.GM=ht.default,mt.CustomBtnTransition=ft.CustomBtnTransition,mt.CustomBtnState=ft.CustomBtnState,mt.CustomBtnLongTouchType=ft.CustomBtnLongTouchType,mt.StateSprite=ft.StateSprite,mt.StateColor=ft.StateColor,mt.CustomButton=ft.default,mt.LangSpPraams=j.LangSpPraams,mt.MController=gt.default,mt.NodeUiConfig=yt.default,mt.ClockParamType=_t.ClockParamType,mt.ClockTimer=_t.default,window.base=mt,cc._RF.pop()},{"./component/MController/MController":"MController","./component/MController/NodeUiConfig":"NodeUiConfig","./component/button/CustomButton":"CustomButton","./component/gm/GM":"GM","./component/label/LabelChange":"LabelChange","./component/label/LabelNumber":"LabelNumber","./component/label/LabelTime":"LabelTime","./component/model/AlertModel":"AlertModel","./component/model/BaseView":"BaseView","./component/model/LoadingModel":"LoadingModel","./component/model/MainLayout":"MainLayout","./component/model/MainViewModel":"MainViewModel","./component/model/PopupModel":"PopupModel","./component/model/ToastModel":"ToastModel","./component/model/WaitingModel":"WaitingModel","./component/particle/MultiPSRandomRefreshTool":"MultiPSRandomRefreshTool","./component/particle/ParticleSystemSpriteFramesRefresh":"ParticleSystemSpriteFramesRefresh","./component/shader/LabelShader":"LabelShader","./core/behaviorTree/BTreeNode":"BTreeNode","./core/behaviorTree/BehaviorTree":"BehaviorTree","./core/behaviorTree/BranchNode":"BranchNode","./core/behaviorTree/Decorator":"Decorator","./core/behaviorTree/Priority":"Priority","./core/behaviorTree/Selector":"Selector","./core/behaviorTree/Task":"Task","./core/collection/Collection":"Collection","./core/common/AnimationExtend":"AnimationExtend","./core/event/EventMessage":"EventMessage","./core/event/MessageManager":"MessageManager","./core/gui/Defines":"Defines","./core/gui/DelegateComponent":"DelegateComponent","./core/gui/GUI":"GUI","./core/language/LanguageLabel":"LanguageLabel","./core/language/LanguageManager":"LanguageManager","./core/language/LanguageSprite":"LanguageSprite","./core/loader/ResLoader":"ResLoader","./core/log/Loger":"Loger","./core/manager/Handler":"Handler","./core/manager/NativeMger":"NativeMger","./core/manager/PoolNodeMger":"PoolNodeMger","./core/manager/SoundManager":"SoundManager","./core/time/ClockTimer":"ClockTimer","./core/timer/Timer":"Timer","./core/timer/TimerManager":"TimerManager","./core/utils/ArrayUtil":"ArrayUtil","./core/utils/Base64Util":"Base64Util","./core/utils/BrowserUtil":"BrowserUtil","./core/utils/ColorUtil":"ColorUtil","./core/utils/ComUtils":"ComUtils","./core/utils/DeviceUtil":"DeviceUtil","./core/utils/GeometryUtil":"GeometryUtil","./core/utils/MathUtil":"MathUtil","./core/utils/NodeUtil":"NodeUtil","./core/utils/ObjectUtil":"ObjectUtil","./core/utils/PromiseUtil":"PromiseUtil","./core/utils/RegexUtil":"RegexUtil","./core/utils/RenderUtil":"RenderUtil","./core/utils/StorageUtil":"StorageUtil","./core/utils/StringUtil":"StringUtil","./core/utils/TestUtil":"TestUtil","./core/utils/TimeUtil":"TimeUtil","./core/utils/TweenUtil":"TweenUtil","./core/utils/UIUtil":"UIUtil","./core/wx/WxManager":"WxManager","./global/Constant":"Constant","./global/Global":"Global","./ui/Root":"Root","./ui/layout/CommonAdapt":"CommonAdapt","./ui/layout/GUIView":"GUIView"}]},{},["base","MController","NodeUiConfig","CustomButton","GM","LabelChange","LabelNumber","LabelTime","AlertModel","BaseView","LoadingModel","MainLayout","MainViewModel","PopupModel","ToastModel","WaitingModel","MultiPSRandomRefreshTool","ParticleSystemSpriteFramesRefresh","LabelShader","BTreeNode","BehaviorTree","BranchNode","Decorator","IControl","Priority","Selector","Sequence","Task","Collection","AnimationExtend","EventMessage","MessageManager","Defines","DelegateComponent","GUI","LayerDialog","LayerPopUp","LayerToast","LayerUI","LanguageLabel","LanguageManager","LanguageSprite","ResLoader","Loger","Handler","NativeMger","PoolNodeMger","SoundManager","ClockTimer","Timer","TimerManager","ArrayUtil","Base64Util","BrowserUtil","ColorUtil","ComUtils","DeviceUtil","GeometryUtil","MathUtil","NodeUtil","ObjectUtil","PromiseUtil","RegexUtil","RenderUtil","StorageUtil","StringUtil","TestUtil","TimeUtil","TweenUtil","UIUtil","WxManager","Constant","Global","Root","CommonAdapt","GUIView","Layout"]);